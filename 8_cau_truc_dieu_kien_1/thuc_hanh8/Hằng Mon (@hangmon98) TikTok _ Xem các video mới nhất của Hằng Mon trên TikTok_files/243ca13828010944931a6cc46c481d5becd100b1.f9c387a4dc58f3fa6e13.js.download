(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"1WwB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d}));var r=n("Cdes");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(Number("".concat(e,"e").concat(t)))/Math.pow(10,t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1e3,n="K",r=1e3*t,i="M",o=1e3*r,u="B";return e<1e4?e.toString():e<r-1?"".concat(a(e/t)).concat(n):e<o-1?"".concat(a(e/r)).concat(i):"".concat(a(e/o)).concat(u)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(new Date).setHours(0,0,0,0)/1e3;return t-86400*e}function u(e,t){if(e&&!isNaN(e)){var n=new Date(Number(e)),r=new Date,a=r.getTime()-n.getTime(),i=864e5;return n.getFullYear()!==r.getFullYear()?"".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()):~~(a/i)>7?"".concat(n.getMonth()+1,"-").concat(n.getDate()):7===~~(a/i)?t?"1".concat(__("unit_week")):__("time_ago",{num:1,unit:__("unit_week")}):a>i?t?"".concat(~~(a/i)).concat(__("unit_day")):__("time_ago",{num:~~(a/i),unit:__("unit_day")}):a>36e5?t?"".concat(~~(a/36e5)).concat(__("unit_hr")):__("time_ago",{num:~~(a/36e5),unit:__("unit_hr")}):a>6e4?t?"".concat(~~(a/6e4)).concat(__("unit_min")):__("time_ago",{num:~~(a/6e4),unit:__("unit_min")}):t?"".concat(1+~~(a/1e3)).concat(__("unit_sec")):__("time_ago",{num:1+~~(a/1e3),unit:__("unit_sec")})}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(/\u00a0/g," ");return t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reset,a=void 0!==n&&n,i=t.width,o=void 0===i?0:i,u=t.height,c=void 0===u?0:u,s=t.quality,d=void 0===s?55:s,l=t.webpFirst,p=void 0!==l&&l,v=e;if(a){var f=v.replace(/^(https?:)?\/\//,"").split("/");if("obj"!==f[1])return e;f[1]="img",v="//".concat(f.join("/"))}var h=!1;return h=r.c&&window.Modernizr?window.Modernizr.webp:p,"".concat(v,"~").concat(o,"x").concat(c,"_q").concat(d,".").concat(h?"webp":"image")}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("Promoted Music"===e)return e;var n=e.replace("- ".concat(t),"")+(t?" - ".concat(t):"");return n}},"6eHj":function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),o=n("eijD"),u=n("gqkn"),c=n("qftd"),s=n("hi5D");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t;switch(e){case s.PageType.TRENDING:case s.PageType.VIDEO:t=0;break;case s.PageType.DISCOVER:t=7;break;case s.PageType.MUSIC:t=6;break;case s.PageType.ANALYTICS:case s.PageType.PROFILE:case s.PageType.USER:t=3;break;case s.PageType.CHALLENGE:t=5}return t}var v={diggVideo:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2?o[2]:void 0,void 0!==t.pageType&&(t.channel_id=p(t.pageType),delete t.pageType),e.next=5,Object(u.h)("/api/commit/item/digg/",l({},t),l({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n)).catch((function(e){return{status_code:-1}}));case 5:if(2150!==(i=e.sent).status_code&&2210!==i.status_code){e.next=8;break}return e.abrupt("return",i.status_msg);case 8:if(0===i.status_code&&i.is_digg!==t.type){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",i.log_pb||{});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCommentInfo:function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=p(r),e.next=3,Object(u.h)("/api/comment/list/",t,l({withCredentials:!0,baseURL:Object(u.c)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),-1===i.statusCode&&(i.status_code=-1),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),getCommentReplyInfo:function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.channel_id=p(r),e.next=3,Object(u.h)("/api/comment/list/reply/",t,l({withCredentials:!0,baseURL:Object(u.c)()},n));case 3:return(i=e.sent).comments=Object(c.d)(i.comments||[]),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()};t.a=v},McYT:function(e,t,n){"use strict";var r=n("octc"),a={addUserRelation:function(e){return{type:r.a,payload:e}},updateUserRelation:function(e){return{type:r.b,payload:e}}},i=n("GBDI"),o=n("hwml"),u=n("fhSU"),c=n("zM4u"),s=n("qUd9"),d=n("J8dG"),l={openBrowserMode:function(e){return{type:d.c,payload:e}},closeBrowserMode:function(){return{type:d.a}},setCurrentIndex:function(e){return{type:d.b,payload:e}}},p=n("xaLc"),v=n("D3sv"),f={userRelation:a,feedback:i.a,itemList:o.a,videoControl:u.b,videoCount:c.a,inbox:s.a,browserMode:l,liveStatus:p.a,liveUser:v.a};t.a=f},OWg0:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d}));var r=n("P16E"),a=n("K92R"),i=n("vvX8"),o=n.n(i),u=n("Cdes"),c=function(e){var t=e.downloadLink,n=void 0===t?"":t,i=e.appType,c=e.pageName,s=e.enterMethod,d=e.samsung,l=void 0!==d&&d,p=e.wid;n||(n=l?r.DOWNLOAD_LINK.SAMSUNG:"t"===i?r.DOWNLOAD_LINK.T:r.DOWNLOAD_LINK.M);var v=Object(a.c)("webapp_launch_mode"),f=Object(a.c)("webapp_original_traffic_type"),h=/google|yahoo|yandex|bing|naver/gi.test(f),m={af_adset:v,pid:"paid"===v?"tiktokwebsem":h?"tiktokwebseo":"tiktokweb",af_siteid:Object(u.b)()||Object(u.a)()?"mobile":"pc",c:c,af_ad:s,web_id:p,af_ad_id:f},b=Object(a.c)("utm_source"),g=Object(a.c)("utm_medium"),y=Object(a.c)("utm_campaign"),O=Object(a.c)("referer_url"),_=Object(a.c)("referer_video_id"),w="".concat(b?"source:".concat(b):"").concat(g?"medium:".concat(g):"").concat(y?"campaign: ".concat(y):""),j="".concat(O?"referer_url:".concat(O,"}"):"").concat(_?"referer_video_id:".concat(_):"");return w&&(m.af_adset_id=w),j&&(m.af_channel=j),l&&(m.af_dp=r.DOWNLOAD_SAMSUNG_AFDP),"".concat(n,"?").concat(o.a.stringify(m))},s=function(e){var t=Object(u.d)()?"_self":"_blank",n=window.open(e,t);n&&(n.opener=null)},d=function(e){var t;try{t=window.__NEXT_DATA__.props.initialProps.$sgOpen}catch(r){}var n=/^https?:\/\/[a-zA-Z0-9-]+-sg/.test(e)||t?"t.tiktok.com":"m.tiktok.com";return{path:"/node-a/video/playsv",host:"https://".concat(n),params:{play_url:e}}}},Tb1B:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),function(e){e.CHALLENGE="challenge",e.TEXT="text",e.DUET="duet",e.USER="user"}(r||(r={}));var a=0,i=1;function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.start-t.start})),t.forEach((function(o,u){var c=o.start,s=o.end,d=o.awemeId,l=o.userId,p=o.hashtagName,v=o.hashtagId,f=o.type,h=o.userUniqueId,m=o.secUid;0===u?n.push({type:r.TEXT,text:e.substring(0,c)}):n.push({type:r.TEXT,text:e.substring(t[u-1].end,c)});var b=e.substring(c,s);f===a&&(d||l)?d?n.push({type:r.DUET,id:d,name:b,text:b}):n.push({type:r.USER,id:l,name:h||"",text:h?"@".concat(h," "):b,secUid:m}):f===i&&p?n.push({type:r.CHALLENGE,id:v,name:p,text:b}):n.push({type:r.TEXT,text:b})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].end)}),n}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return[{type:r.TEXT,text:e}];var n=[];return t.sort((function(e,t){return e.Start-t.Start})),t.forEach((function(o,u){var c=o.Start,s=o.End,d=o.AwemeId,l=o.UserId,p=o.HashtagName,v=o.HashtagId,f=o.Type,h=o.UserUniqueId,m=o.SecUid;0===u?n.push({type:r.TEXT,text:e.substring(0,c)}):n.push({type:r.TEXT,text:e.substring(t[u-1].End,c)});var b=e.substring(c,s);f===a&&(d||l)?d?n.push({type:r.DUET,id:d,name:b,text:b}):n.push({type:r.USER,id:l,name:h?"".concat(h):"",text:h?"@".concat(h," "):" ",SecUid:m}):f===i&&p?n.push({type:r.CHALLENGE,id:v,name:p,text:b}):n.push({type:r.TEXT,text:b})})),n.push({type:r.TEXT,text:e.substr(t[t.length-1].End)}),n}},hilu:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("mXGw"),a=n.n(r);function i(e){var t=e.width,n=void 0===t?"1em":t,r=e.height,i=void 0===r?"1em":r,o=(e.fill,e.style),u=e.className;return a.a.createElement("svg",{className:u,style:o,width:n,height:i,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"#20D5EC"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.1213 15.8787C38.2929 17.0503 38.2929 18.9497 37.1213 20.1213L23.6213 33.6213C22.4497 34.7929 20.5503 34.7929 19.3787 33.6213L10.8787 25.1213C9.70711 23.9497 9.70711 22.0503 10.8787 20.8787C12.0503 19.7071 13.9497 19.7071 15.1213 20.8787L21.5 27.2574L32.8787 15.8787C34.0503 14.7071 35.9497 14.7071 37.1213 15.8787Z",fill:"white"}))}},hwml:function(e,t,n){"use strict";var r=n("6CzD"),a=n("NthX"),i=n.n(a),o=n("dV/x"),u=n("eijD"),c=n("2co1"),s=n("OWg0"),d=n("gqkn"),l=n("cBaE"),p=n("jRNn"),v=n("os2B"),f=n("OSs+"),h=n("lEqP"),m=n("YV6R"),b=n("dLrZ"),g=n("octc"),y=n("4p5+"),O=n("hi5D"),_=n("Cdes"),w=n("97Lw");t.a={addItemList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(u.a)(i.a.mark((function a(v,j){var k,x,L,C,I,E,D,N,T,P,R,U,S,M,A,q,F,V,X,G,K,B,W,H,z,J,Y,Z,$,Q,ee,te,ne,re,ae,ie,oe,ue,ce,se,de,le,pe,ve,fe,he,me,be,ge,ye,Oe,_e,we,je,ke,xe,Le,Ce,Ie;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(C=e.appId,I=e.needFirstVideo,E=void 0!==I&&I,D=e.firstVideo,N=e.router,T=e.hasPrefetchData,P=void 0!==T&&T,R=Object(o.a)(e,["appId","needFirstVideo","firstVideo","router","hasPrefetchData"]),U=j(),S=U.itemList,M=S[t],!E){a.next=9;break}return a.next=6,Object(p.a)({router:N,lang:R.language,appId:C});case 6:a.t0=a.sent,a.next=10;break;case 9:a.t0={statusCode:h.OK};case 10:if(A=a.t0,q=D||E&&(null===A||void 0===A?void 0:A.data),F=1===(null===q||void 0===q||null===(k=q.author)||void 0===k?void 0:k.relation)||2===(null===q||void 0===q||null===(x=q.author)||void 0===x?void 0:x.relation),t!==O.PageList.FOLLOWING||!E||!q||F){a.next=15;break}return a.abrupt("return",{needRedirect:!0,length:0,statusCode:h.OK,hasMore:!1,maxCursor:0,listRetry:!1});case 15:if(t!==O.PageList.FOLLOWING&&t!==O.PageList.TRENDING){a.next=18;break}if(!(null===A||void 0===A?void 0:A.statusCode)||(null===A||void 0===A?void 0:A.statusCode)===h.OK){a.next=18;break}return a.abrupt("return",{length:0,statusCode:null===A||void 0===A?void 0:A.statusCode,hasMore:!1,maxCursor:0,listRetry:!1});case 18:V=!0,setTimeout((function(){if(V){var e=Object(_.b)()||Object(_.a)()?{}:{width:"560px"};w.a.open({content:__("server_error_title"),widthType:"auto",duration:3,style:e})}}),3e4),H={appId:C,baseURL:Object(d.b)(C)},a.t1=t,a.next=a.t1===O.PageList.VIDEO||a.t1===O.PageList.TRENDING?24:a.t1===O.PageList.CHALLENGE?34:a.t1===O.PageList.MUSIC?43:a.t1===O.PageList.USER||a.t1===O.PageList.USER_LIKE?52:a.t1===O.PageList.FOLLOWING?65:94;break;case 24:return z=R.language,J=R.id,Y=R.count,Z=R.insertedItemID,$=void 0===Z?"":Z,Q=t===O.PageList.VIDEO?O.FromPage.VIDEO:O.FromPage.TRENDING,a.next=28,c.a.getItemList({type:t,aid:1988,count:Y,itemID:J,language:z,fromPage:Q,insertedItemID:$},H);case 28:return ee=a.sent,X=ee.statusCode,G=ee.itemList,W=ee.hasMore,K=0,a.abrupt("break",95);case 34:return te=R.id,ne=R.count,re=R.maxCursor,ae=R.language,a.next=37,c.a.getItemList({type:t,aid:1988,challengeID:te,count:ne,cursor:re,language:ae},H);case 37:return ie=a.sent,X=ie.statusCode,G=ie.itemList,K=ie.cursor,W=ie.hasMore,a.abrupt("break",95);case 43:return oe=R.id,ue=R.count,ce=R.maxCursor,se=R.language,a.next=46,c.a.getItemList({type:t,aid:1988,musicID:oe,count:ue,cursor:ce,language:se},H);case 46:return de=a.sent,X=de.statusCode,G=de.itemList,K=de.cursor,W=de.hasMore,a.abrupt("break",95);case 52:return le=R.secUid,pe=R.count,ve=R.maxCursor,fe=R.language,a.next=55,c.a.getItemList({type:t,aid:1988,count:pe,cursor:ve,secUid:le||"",language:fe},H);case 55:if(he=a.sent,X=he.statusCode,K=he.cursor,W=he.hasMore,!((G=he.itemList)&&G.length>0)){a.next=64;break}return a.next=63,Promise.all(G.map(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,a,o,u,c,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!==(n=null===(r=t.video)||void 0===r?void 0:r.cover)&&void 0!==n?n:"",!t.scheduleTime||/\/node-a\/video\/playsv/.test(a)){e.next=9;break}return o=Object(s.a)(a),e.next=5,Object(l.e)(o.path,o.params,o.host);case 5:u=e.sent,c=u.signature,d=u.url,t.video.cover="".concat(d,"&_signature=").concat(encodeURIComponent(c));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 63:G=a.sent;case 64:return a.abrupt("break",95);case 65:if(me=R.count,be=R.maxCursor,ge=R.language,ye=R.level,Oe=R.pullType,_e=R.insertedItemID,P){a.next=77;break}return a.next=69,c.a.getItemList({type:t,aid:1988,level:Number(ye),count:me,cursor:be,language:ge,pullType:Number(Oe),insertedItemID:_e},H);case 69:we=a.sent,X=we.statusCode,B=we.level,G=we.itemList,W=we.hasMore,K=we.cursor,a.next=93;break;case 77:if(je=Object(p.b)(q,null!==M&&void 0!==M?M:[]),v({type:n?b.d:b.a,payload:{key:t,list:n&&q?[q].concat(Object(r.a)(je)):je}}),!((null===M||void 0===M?void 0:M.length)>1)){a.next=83;break}return a.abrupt("return",{withPrefetchData:!0,listRetry:!1,length:(null===M||void 0===M?void 0:M.length)||0});case 83:return a.next=85,c.a.getItemList({type:t,aid:1988,level:Number(ye),count:me,cursor:be,language:ge,pullType:Number(Oe)},H);case 85:ke=a.sent,X=ke.statusCode,B=ke.level,G=ke.itemList,W=ke.hasMore,K=ke.cursor,xe=q?[q].concat(Object(r.a)(je)):je,G=xe.concat(G);case 93:return a.abrupt("break",95);case 94:X=-1;case 95:return V=!1,Le=Object(p.b)(q,null!==(L=G)&&void 0!==L?L:[]),t===O.PageList.FOLLOWING&&M&&M.length&&(R.insertedItemID||P||(Ce=new Set,M.slice(0,3).forEach((function(e){Ce.add(e.id)})),Le=Le.filter((function(e){return!Ce.has(e.id)})))),a.next=100,Promise.all([q].concat(Object(r.a)(Le)).map(function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,a,o,u,c,d,p,f,h,m,b,O,_,w,j,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=null===t||void 0===t||null===(n=t.author)||void 0===n?void 0:n.id,u=null===t||void 0===t||null===(r=t.author)||void 0===r?void 0:r.relation,c=null===t||void 0===t||null===(a=t.music)||void 0===a?void 0:a.authorFtc,p=(d=t||{}).itemMute,f=d.takeDown,h=d.video,m=(h=void 0===h?{}:h).cover,b=void 0===m?"":m,v({type:g.a,payload:{id:String(o),relation:Number(u)}}),(c||p)&&v({type:y.e,payload:{vid:t.id}}),e.prev=10,O=f?"":b,!t.vl1||t.showNotPass||/\/node-a\/video\/playsv/.test(O)||t.forFriend){e.next=20;break}return _=Object(s.a)(f?"":b),e.next=16,Object(l.e)(_.path,_.params,_.host);case 16:w=e.sent,j=w.signature,k=w.url,t.video.cover="".concat(k,"&_signature=").concat(encodeURIComponent(j));case 20:e.next=24;break;case 22:e.prev=22,e.t0=e.catch(10);case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}()));case 100:return Le=a.sent,M&&f.a.event(m.A.LOAD_MORE,{is_success:(null===(Ie=G)||void 0===Ie?void 0:Ie.length)?1:0,error_code:X}),Le.shift(),X===h.OK&&v({type:n?b.d:b.a,payload:{key:t,list:n&&q?[q].concat(Object(r.a)(Le)):Le}}),a.abrupt("return",{level:B,length:Le.length,statusCode:X,hasMore:W,maxCursor:K,listRetry:!M&&X===h.NET_ERROR});case 105:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},discoverFollowerList:function(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(r,a){var o,u,c,s,l,p,f,m,g,y,O;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=e.appId,c=a(),s=c.itemList,l=s[t]||[],n.next=5,v.a.getDiscoverUser(e,{baseURL:Object(d.b)(u)});case 5:return p=n.sent,f=p.statusCode,m=p.userInfoList,g=void 0===m?[]:m,y=p.offset,O=null!==(o=null===g||void 0===g?void 0:g.reduce((function(e,t){var n=t.itemList;return n&&n[0]&&e.push(null===n||void 0===n?void 0:n[0]),e}),[]))&&void 0!==o?o:[],f===h.OK&&r({type:b.a,payload:{key:t,list:O.slice(0,50-l.length)}}),n.abrupt("return",{statusCode:f,offset:null!==y&&void 0!==y?y:"",length:O.length});case 13:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},resetItemList:function(e){return{type:b.d,payload:{key:e,list:[]}}},filterLikeList:function(e){var t=e.listKey,n=e.filterFunction;return function(){var e=Object(u.a)(i.a.mark((function e(r,a){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=a(),u=o.videoCount,r({type:b.c,payload:{key:t,filterFunction:n,videoCount:u}});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},deleteItem:function(e,t){return function(){var n=Object(u.a)(i.a.mark((function n(r,a){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=a(),o.itemList[t].splice(e,1),r({type:b.b,payload:{key:e}});case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},updateItem:function(e,t,n){return function(){var r=Object(u.a)(i.a.mark((function r(a,o){var u,c;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:u=o(),(c=u.itemList)[t][e]=JSON.parse(JSON.stringify(c[t][e])),Object.keys(n).forEach((function(r){c[t][e][r]=n[r]})),a({type:b.e,payload:{key:e}});case 4:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}}},jRNn:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n("6CzD"),a=n("NthX"),i=n.n(a),o=n("mK0O"),u=n("eijD"),c=n("hi5D"),s=n("jR5A"),d=n("K92R");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=location.hash.split("/");return{uniqueId:e[1],id:e[3]}},f=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,a,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.router,r=t.lang,a=t.appId,e.prev=1,e.next=4,Object(s.c)(c.PageType.VIDEO,p(p(p({},v()),null===n||void 0===n?void 0:n.query),{},{lang:r,appId:a}));case 4:return u=e.sent,e.abrupt("return",{data:null===u||void 0===u||null===(o=u.itemInfo)||void 0===o?void 0:o.itemStruct,statusCode:(null===u||void 0===u?void 0:u.statusCode)||0});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{data:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var n=JSON.parse(Object(d.c)("video_detail_info")||null);Object(d.f)("video_detail_info");var a=n&&n.itemList&&n.itemList.slice(n.index)||[],i=e?[e].concat(Object(r.a)(a)):a,o=[].concat(Object(r.a)(a),Object(r.a)(t.filter((function(e){return-1===i.findIndex((function(t){return e.id===t.id}))}))));return o}catch(u){return t}}},os2B:function(e,t,n){"use strict";var r=n("NthX"),a=n.n(r),i=n("mK0O"),o=n("eijD"),u=n("hisu"),c=n("yBJb"),s=n("gqkn");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"followUser",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2?o[2]:void 0,e.next=4,Object(s.h)("/api/commit/follow/user/",t,l({method:"post",withCredentials:!0,headers:{"tt-csrf-token":r}},n)).catch((function(e){return{status_code:-1}}));case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDiscoverUser",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/discover/user/",t,l({withCredentials:!0},n));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendUser",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/recommend/user/",t,l({withCredentials:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeImpression",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/impression/write/",l({},t.query),l({method:"post",withCredentials:!0,data:t.data},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFollowingList",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Object(s.h)("/api/user/list/",t,l({withCredentials:!0,_signature:!0},n)).catch((function(e){return{statusCode:-1}}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.a=new p},qftd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d}));n("mK0O"),n("gBII");var r=n("1WwB"),a=n("Tb1B"),i=n("jR5A");function o(e){var t,n,o,u=e.id,c=e.desc,s=e.textExtra,d=e.takeDown,l=e.createTime,p=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},v=p.uniqueId,f=p.secUid,h=null!==(n=null===e||void 0===e?void 0:e.video)&&void 0!==n?n:{},m=h.cover,b=h.originCover,g=h.dynamicCover,y=null!==(o=null===e||void 0===e?void 0:e.music)&&void 0!==o?o:{},O=y.id,_=y.title,w=y.authorName;return{poster:d?"":m||b||(null!==g&&void 0!==g?g:""),videoPath:Object(i.h)(v,null!==f&&void 0!==f?f:"",u),challengeText:Object(a.c)(c,null!==s&&void 0!==s?s:[]),authorHref:Object(i.g)(v,null!==f&&void 0!==f?f:""),musicNameWithAuthor:Object(r.c)(_,null!==w&&void 0!==w?w:""),musicHref:Object(i.d)(_,O),createTime:1e3*Number(l)}}function u(e,t){var n,r=null!==(n=null===e||void 0===e?void 0:e.music)&&void 0!==n?n:{},a=r.title,i=void 0===a?"":a,o=(r.authorName,r.id),u=void 0===o?"":o,c=r.authorFtc,s=t.musicNameWithAuthor,d=t.musicHref;return{authorFtc:Boolean(c),musicNameWithAuthor:s,musicHref:d,musicName:i,musicId:u}}function c(e){var t,n=e.authorStats,r=null!==(t=null===e||void 0===e?void 0:e.author)&&void 0!==t?t:{},a=r.nickname,i=r.uniqueId,o=r.secUid,u=r.id,c=r.avatarThumb,s=r.avatarMedium,d=r.verified,l=r.relation,p=r.secret;return{nickName:a,uniqueId:i,secUid:null!==o&&void 0!==o?o:"",userId:u,covers:[c||s],verified:null!==d&&void 0!==d&&d,relation:l,secret:null!==p&&void 0!==p&&p,stats:n,signature:r.signature}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.user||{},n=t.unique_id,r=t.avatar_thumb,a=t.sec_uid,i=t.custom_verify,o=t.enterprise_verify_reason,u=t.nickname,c=t.uid;return e.user={unique_id:n,avatar_thumb:r,is_verified:i,enterprise_verify_reason:o,sec_uid:a,nickname:u,uid:c},e.reply_comment&&(e.reply_comment=s(e.reply_comment)),e}))}function d(e){var t,n;return{avatarThumb:(null===e||void 0===e||null===(t=e.avatar_thumb)||void 0===t?void 0:t.url_list[1])||(null===e||void 0===e||null===(n=e.avatar_thumb)||void 0===n?void 0:n.url_list[0]),uniqueId:e.unique_id,id:e.uid,nickname:e.nickname,verified:!(!e.custom_verify&&!e.enterprise_verify_reason),relation:e.follow_status}}},xaLc:function(e,t,n){"use strict";var r=n("8t8n");t.a={addLiveStatus:function(e){return{type:r.a,payload:e}}}},zM4u:function(e,t,n){"use strict";var r=n("aNYv"),a=n("dV/x"),i=n("NthX"),o=n.n(i),u=n("eijD"),c=n("gqkn"),s=n("6eHj"),d=n("cBaE"),l=n("ho2T");t.a={addVideoCount:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:l.a,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setVideoCount:function(e){return{type:l.a,payload:e}},updateLikeVideo:function(e){return function(){var t=Object(u.a)(o.a.mark((function t(n){var i,u,p,v,f,h,m,b,g,y,O;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.vid,u=e.liked,p=e.likeCount,v=e.commentCount,f=e.appId,h=e.token,m=void 0===h?"":h,b=Object(a.a)(e,["vid","liked","likeCount","commentCount","appId","token"]),n({type:l.c,payload:{vid:i,liked:!u,commentCount:v,likeCount:u?p-1:p+1}}),t.next=4,Promise.all([s.a.diggVideo(b,{baseURL:Object(c.b)(f)},m),Object(d.b)(3e3)]);case 4:return g=t.sent,y=Object(r.a)(g,1),(O=y[0])&&"string"!==typeof O||n({type:l.c,payload:{vid:i,liked:u,likeCount:p,commentCount:v}}),t.abrupt("return",O);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateVideoComment:function(e){return function(t,n){var r=e.vid,a=e.count,i=n().videoCount[r],o=i.liked,u=i.likeCount;a!==i.commentCount&&t({type:l.d,payload:{vid:r,liked:o,commentCount:a,likeCount:u}})}}}}}]);