/*!
* @byted/secsdk v1.2.0
* (c) 2021
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).secsdk={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t){return e(t={exports:{}},t.exports),t.exports}var n=r((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t})),o=function(e){return e&&e.Math==Math&&e},i=o("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||o("object"==("undefined"==typeof window?"undefined":n(window))&&window)||o("object"==("undefined"==typeof self?"undefined":n(self))&&self)||o("object"==n(t)&&t)||function(){return this}()||Function("return this")(),a=function(e){try{return!!e()}catch(t){return!0}},u=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,f={f:s&&!c.call({1:2},1)?function(e){var t=s(this,e);return!!t&&t.enumerable}:c},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,p=function(e){return h.call(e).slice(8,-1)},v="".split,d=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==p(e)?v.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},g=function(e){return d(y(e))},m=function(e){return"object"===n(e)?null!==e:"function"==typeof e},w=function(e,t){if(!m(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!m(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!m(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!m(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,S=function(e,t){return b.call(e,t)},k=i.document,L=m(k)&&m(k.createElement),R=function(e){return L?k.createElement(e):{}},j=!u&&!a((function(){return 7!=Object.defineProperty(R("div"),"a",{get:function(){return 7}}).a})),A=Object.getOwnPropertyDescriptor,E={f:u?A:function(e,t){if(e=g(e),t=w(t,!0),j)try{return A(e,t)}catch(r){}if(S(e,t))return l(!f.f.call(e,t),e[t])}},O=function(e){if(!m(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,T={f:u?P:function(e,t,r){if(O(e),t=w(t,!0),O(r),j)try{return P(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},U=u?function(e,t,r){return T.f(e,t,l(1,r))}:function(e,t,r){return e[t]=r,e},x=function(e,t){try{U(i,e,t)}catch(r){i[e]=t}return t},q=i["__core-js_shared__"]||x("__core-js_shared__",{}),I=Function.toString;"function"!=typeof q.inspectSource&&(q.inspectSource=function(e){return I.call(e)});var M,C,F,_=q.inspectSource,H=i.WeakMap,N="function"==typeof H&&/native code/.test(_(H)),B=r((function(e){(e.exports=function(e,t){return q[e]||(q[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),D=0,G=Math.random(),X=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++D+G).toString(36)},V=B("keys"),z=function(e){return V[e]||(V[e]=X(e))},W={},$=i.WeakMap;if(N){var J=q.state||(q.state=new $),Y=J.get,K=J.has,Z=J.set;M=function(e,t){return t.facade=e,Z.call(J,e,t),t},C=function(e){return Y.call(J,e)||{}},F=function(e){return K.call(J,e)}}else{var Q=z("state");W[Q]=!0,M=function(e,t){return t.facade=e,U(e,Q,t),t},C=function(e){return S(e,Q)?e[Q]:{}},F=function(e){return S(e,Q)}}var ee={set:M,get:C,has:F,enforce:function(e){return F(e)?C(e):M(e,{})},getterFor:function(e){return function(t){var r;if(!m(t)||(r=C(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},te=r((function(e){var t=ee.get,r=ee.enforce,n=String(String).split("String");(e.exports=function(e,t,o,a){var u,c=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||S(o,"name")||U(o,"name",t),(u=r(o)).source||(u.source=n.join("string"==typeof t?t:""))),e!==i?(c?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=o:U(e,t,o)):s?e[t]=o:x(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||_(this)}))})),re=i,ne=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?ne(re[e])||ne(i[e]):re[e]&&re[e][t]||i[e]&&i[e][t]},ie=Math.ceil,ae=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?ae:ie)(e)},ce=Math.min,se=function(e){return e>0?ce(ue(e),9007199254740991):0},fe=Math.max,le=Math.min,he=function(e){return function(t,r,n){var o,i=g(t),a=se(i.length),u=function(e,t){var r=ue(e);return r<0?fe(r+t,0):le(r,t)}(n,a);if(e&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}},pe={includes:he(!0),indexOf:he(!1)},ve=pe.indexOf,de=function(e,t){var r,n=g(e),o=0,i=[];for(r in n)!S(W,r)&&S(n,r)&&i.push(r);for(;t.length>o;)S(n,r=t[o++])&&(~ve(i,r)||i.push(r));return i},ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=ye.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return de(e,ge)}},we={f:Object.getOwnPropertySymbols},be=oe("Reflect","ownKeys")||function(e){var t=me.f(O(e)),r=we.f;return r?t.concat(r(e)):t},Se=function(e,t){for(var r=be(t),n=T.f,o=E.f,i=0;i<r.length;i++){var a=r[i];S(e,a)||n(e,a,o(t,a))}},ke=/#|\.prototype\./,Le=function(e,t){var r=je[Re(e)];return r==Ee||r!=Ae&&("function"==typeof t?a(t):!!t)},Re=Le.normalize=function(e){return String(e).replace(ke,".").toLowerCase()},je=Le.data={},Ae=Le.NATIVE="N",Ee=Le.POLYFILL="P",Oe=Le,Pe=E.f,Te=function(e,t){var r,o,a,u,c,s=e.target,f=e.global,l=e.stat;if(r=f?i:l?i[s]||x(s,{}):(i[s]||{}).prototype)for(o in t){if(u=t[o],a=e.noTargetGet?(c=Pe(r,o))&&c.value:r[o],!Oe(f?o:s+(l?".":"#")+o,e.forced)&&void 0!==a){if(n(u)===n(a))continue;Se(u,a)}(e.sham||a&&a.sham)&&U(u,"sham",!0),te(r,o,u,e)}},Ue=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},xe=function(e,t,r){if(Ue(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},qe=function(e){return Object(y(e))},Ie=Array.isArray||function(e){return"Array"==p(e)},Me=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),Ce=Me&&!Symbol.sham&&"symbol"==n(Symbol.iterator),Fe=B("wks"),_e=i.Symbol,He=Ce?_e:_e&&_e.withoutSetter||X,Ne=function(e){return S(Fe,e)||(Me&&S(_e,e)?Fe[e]=_e[e]:Fe[e]=He("Symbol."+e)),Fe[e]},Be=Ne("species"),De=function(e,t){var r;return Ie(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!Ie(r.prototype)?m(r)&&null===(r=r[Be])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},Ge=[].push,Xe=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=7==e,u=5==e||i;return function(c,s,f,l){for(var h,p,v=qe(c),y=d(v),g=xe(s,f,3),m=se(y.length),w=0,b=l||De,S=t?b(c,m):r||a?b(c,0):void 0;m>w;w++)if((u||w in y)&&(p=g(h=y[w],w,v),e))if(t)S[w]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:Ge.call(S,h)}else switch(e){case 4:return!1;case 7:Ge.call(S,h)}return i?-1:n||o?o:S}},Ve={forEach:Xe(0),map:Xe(1),filter:Xe(2),some:Xe(3),every:Xe(4),find:Xe(5),findIndex:Xe(6),filterOut:Xe(7)},ze=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))},We=Object.defineProperty,$e={},Je=function(e){throw e},Ye=function(e,t){if(S($e,e))return $e[e];t||(t={});var r=[][e],n=!!S(t,"ACCESSORS")&&t.ACCESSORS,o=S(t,0)?t[0]:Je,i=S(t,1)?t[1]:void 0;return $e[e]=!!r&&!a((function(){if(n&&!u)return!0;var e={length:-1};n?We(e,1,{enumerable:!0,get:Je}):e[1]=1,r.call(e,o,i)}))},Ke=Ve.forEach,Ze=ze("forEach"),Qe=Ye("forEach"),et=Ze&&Qe?[].forEach:function(e){return Ke(this,e,arguments.length>1?arguments[1]:void 0)};Te({target:"Array",proto:!0,forced:[].forEach!=et},{forEach:et});var tt,rt=Object.keys||function(e){return de(e,ye)},nt=u?Object.defineProperties:function(e,t){O(e);for(var r,n=rt(t),o=n.length,i=0;o>i;)T.f(e,r=n[i++],t[r]);return e},ot=oe("document","documentElement"),it=z("IE_PROTO"),at=function(){},ut=function(e){return"<script>"+e+"<\/script>"},ct=function(){try{tt=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var e,t;ct=tt?function(e){e.write(ut("")),e.close();var t=e.parentWindow.Object;return e=null,t}(tt):((t=R("iframe")).style.display="none",ot.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ut("document.F=Object")),e.close(),e.F);for(var r=ye.length;r--;)delete ct.prototype[ye[r]];return ct()};W[it]=!0;var st=Object.create||function(e,t){var r;return null!==e?(at.prototype=O(e),r=new at,at.prototype=null,r[it]=e):r=ct(),void 0===t?r:nt(r,t)},ft=Ne("unscopables"),lt=Array.prototype;null==lt[ft]&&T.f(lt,ft,{configurable:!0,value:st(null)});var ht=function(e){lt[ft][e]=!0},pt=pe.includes,vt=Ye("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:!vt},{includes:function(e){return pt(this,e,arguments.length>1?arguments[1]:void 0)}}),ht("includes");var dt,yt,gt=oe("navigator","userAgent")||"",mt=i.process,wt=mt&&mt.versions,bt=wt&&wt.v8;bt?yt=(dt=bt.split("."))[0]+dt[1]:gt&&(!(dt=gt.match(/Edge\/(\d+)/))||dt[1]>=74)&&(dt=gt.match(/Chrome\/(\d+)/))&&(yt=dt[1]);var St=yt&&+yt,kt=Ne("species"),Lt=Ve.map,Rt=function(e){return St>=51||!a((function(){var t=[];return(t.constructor={})[kt]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}("map"),jt=Ye("map");Te({target:"Array",proto:!0,forced:!Rt||!jt},{map:function(e){return Lt(this,e,arguments.length>1?arguments[1]:void 0)}});var At=Ve.some,Et=ze("some"),Ot=Ye("some");Te({target:"Array",proto:!0,forced:!Et||!Ot},{some:function(e){return At(this,e,arguments.length>1?arguments[1]:void 0)}});var Pt=Object.assign,Tt=Object.defineProperty,Ut=!Pt||a((function(){if(u&&1!==Pt({b:1},Pt(Tt({},"a",{enumerable:!0,get:function(){Tt(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Pt({},e)[r]||"abcdefghijklmnopqrst"!=rt(Pt({},t)).join("")}))?function(e,t){for(var r=qe(e),n=arguments.length,o=1,i=we.f,a=f.f;n>o;)for(var c,s=d(arguments[o++]),l=i?rt(s).concat(i(s)):rt(s),h=l.length,p=0;h>p;)c=l[p++],u&&!a.call(s,c)||(r[c]=s[c]);return r}:Pt;Te({target:"Object",stat:!0,forced:Object.assign!==Ut},{assign:Ut});var xt=a((function(){rt(1)}));Te({target:"Object",stat:!0,forced:xt},{keys:function(e){return rt(qe(e))}});var qt={};qt[Ne("toStringTag")]="z";var It="[object z]"===String(qt),Mt=Ne("toStringTag"),Ct="Arguments"==p(function(){return arguments}()),Ft=It?p:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),Mt))?r:Ct?p(t):"Object"==(n=p(t))&&"function"==typeof t.callee?"Arguments":n},_t=It?{}.toString:function(){return"[object "+Ft(this)+"]"};It||te(Object.prototype,"toString",_t,{unsafe:!0});var Ht=i.Promise,Nt=function(e,t,r){for(var n in t)te(e,n,t[n],r);return e},Bt=T.f,Dt=Ne("toStringTag"),Gt=function(e,t,r){e&&!S(e=r?e:e.prototype,Dt)&&Bt(e,Dt,{configurable:!0,value:t})},Xt=Ne("species"),Vt=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},zt={},Wt=Ne("iterator"),$t=Array.prototype,Jt=function(e){return void 0!==e&&(zt.Array===e||$t[Wt]===e)},Yt=Ne("iterator"),Kt=function(e){if(null!=e)return e[Yt]||e["@@iterator"]||zt[Ft(e)]},Zt=function(e){var t=e.return;if(void 0!==t)return O(t.call(e)).value},Qt=function(e,t){this.stopped=e,this.result=t},er=function(e,t,r){var o,i,a,u,c,s,f,l=r&&r.that,h=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),d=xe(t,l,1+h+v),y=function(e){return o&&Zt(o),new Qt(!0,e)},g=function(e){return h?(O(e),v?d(e[0],e[1],y):d(e[0],e[1])):v?d(e,y):d(e)};if(p)o=e;else{if("function"!=typeof(i=Kt(e)))throw TypeError("Target is not iterable");if(Jt(i)){for(a=0,u=se(e.length);u>a;a++)if((c=g(e[a]))&&c instanceof Qt)return c;return new Qt(!1)}o=i.call(e)}for(s=o.next;!(f=s.call(o)).done;){try{c=g(f.value)}catch(m){throw Zt(o),m}if("object"==n(c)&&c&&c instanceof Qt)return c}return new Qt(!1)},tr=Ne("iterator"),rr=!1;try{var nr=0,or={next:function(){return{done:!!nr++}},return:function(){rr=!0}};or[tr]=function(){return this},Array.from(or,(function(){throw 2}))}catch(ba){}var ir,ar,ur,cr=Ne("species"),sr=function(e,t){var r,n=O(e).constructor;return void 0===n||null==(r=O(n)[cr])?t:Ue(r)},fr=/(iphone|ipod|ipad).*applewebkit/i.test(gt),lr="process"==p(i.process),hr=i.location,pr=i.setImmediate,vr=i.clearImmediate,dr=i.process,yr=i.MessageChannel,gr=i.Dispatch,mr=0,wr={},br=function(e){if(wr.hasOwnProperty(e)){var t=wr[e];delete wr[e],t()}},Sr=function(e){return function(){br(e)}},kr=function(e){br(e.data)},Lr=function(e){i.postMessage(e+"",hr.protocol+"//"+hr.host)};pr&&vr||(pr=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return wr[++mr]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ir(mr),mr},vr=function(e){delete wr[e]},lr?ir=function(e){dr.nextTick(Sr(e))}:gr&&gr.now?ir=function(e){gr.now(Sr(e))}:yr&&!fr?(ur=(ar=new yr).port2,ar.port1.onmessage=kr,ir=xe(ur.postMessage,ur,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&hr&&"file:"!==hr.protocol&&!a(Lr)?(ir=Lr,i.addEventListener("message",kr,!1)):ir="onreadystatechange"in R("script")?function(e){ot.appendChild(R("script")).onreadystatechange=function(){ot.removeChild(this),br(e)}}:function(e){setTimeout(Sr(e),0)});var Rr,jr,Ar,Er,Or,Pr,Tr,Ur,xr={set:pr,clear:vr},qr=/web0s(?!.*chrome)/i.test(gt),Ir=E.f,Mr=xr.set,Cr=i.MutationObserver||i.WebKitMutationObserver,Fr=i.document,_r=i.process,Hr=i.Promise,Nr=Ir(i,"queueMicrotask"),Br=Nr&&Nr.value;Br||(Rr=function(){var e,t;for(lr&&(e=_r.domain)&&e.exit();jr;){t=jr.fn,jr=jr.next;try{t()}catch(ba){throw jr?Er():Ar=void 0,ba}}Ar=void 0,e&&e.enter()},fr||lr||qr||!Cr||!Fr?Hr&&Hr.resolve?(Tr=Hr.resolve(void 0),Ur=Tr.then,Er=function(){Ur.call(Tr,Rr)}):Er=lr?function(){_r.nextTick(Rr)}:function(){Mr.call(i,Rr)}:(Or=!0,Pr=Fr.createTextNode(""),new Cr(Rr).observe(Pr,{characterData:!0}),Er=function(){Pr.data=Or=!Or}));var Dr,Gr,Xr,Vr,zr=Br||function(e){var t={fn:e,next:void 0};Ar&&(Ar.next=t),jr||(jr=t,Er()),Ar=t},Wr=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Ue(t),this.reject=Ue(r)},$r={f:function(e){return new Wr(e)}},Jr=function(e,t){if(O(e),m(t)&&t.constructor===e)return t;var r=$r.f(e);return(0,r.resolve)(t),r.promise},Yr=function(e){try{return{error:!1,value:e()}}catch(ba){return{error:!0,value:ba}}},Kr=xr.set,Zr=Ne("species"),Qr="Promise",en=ee.get,tn=ee.set,rn=ee.getterFor(Qr),nn=Ht,on=i.TypeError,an=i.document,un=i.process,cn=oe("fetch"),sn=$r.f,fn=sn,ln=!!(an&&an.createEvent&&i.dispatchEvent),hn="function"==typeof PromiseRejectionEvent,pn=Oe(Qr,(function(){if(!(_(nn)!==String(nn))){if(66===St)return!0;if(!lr&&!hn)return!0}if(St>=51&&/native code/.test(nn))return!1;var e=nn.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Zr]=t,!(e.then((function(){}))instanceof t)})),vn=pn||!function(e,t){if(!t&&!rr)return!1;var r=!1;try{var n={};n[tr]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(ba){}return r}((function(e){nn.all(e).catch((function(){}))})),dn=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},yn=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;zr((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,u,c,s=r[i++],f=o?s.ok:s.fail,l=s.resolve,h=s.reject,p=s.domain;try{f?(o||(2===e.rejection&&bn(e),e.rejection=1),!0===f?a=n:(p&&p.enter(),a=f(n),p&&(p.exit(),c=!0)),a===s.promise?h(on("Promise-chain cycle")):(u=dn(a))?u.call(a,l,h):l(a)):h(n)}catch(ba){p&&!c&&p.exit(),h(ba)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&mn(e)}))}},gn=function(e,t,r){var n,o;ln?((n=an.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),i.dispatchEvent(n)):n={promise:t,reason:r},!hn&&(o=i["on"+e])?o(n):"unhandledrejection"===e&&function(e,t){var r=i.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},mn=function(e){Kr.call(i,(function(){var t,r=e.facade,n=e.value;if(wn(e)&&(t=Yr((function(){lr?un.emit("unhandledRejection",n,r):gn("unhandledrejection",r,n)})),e.rejection=lr||wn(e)?2:1,t.error))throw t.value}))},wn=function(e){return 1!==e.rejection&&!e.parent},bn=function(e){Kr.call(i,(function(){var t=e.facade;lr?un.emit("rejectionHandled",t):gn("rejectionhandled",t,e.value)}))},Sn=function(e,t,r){return function(n){e(t,n,r)}},kn=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,yn(e,!0))},Ln=function e(t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===r)throw on("Promise can't be resolved itself");var o=dn(r);o?zr((function(){var n={done:!1};try{o.call(r,Sn(e,n,t),Sn(kn,n,t))}catch(ba){kn(n,ba,t)}})):(t.value=r,t.state=1,yn(t,!1))}catch(ba){kn({done:!1},ba,t)}}};pn&&(nn=function(e){Vt(this,nn,Qr),Ue(e),Dr.call(this);var t=en(this);try{e(Sn(Ln,t),Sn(kn,t))}catch(ba){kn(t,ba)}},(Dr=function(e){tn(this,{type:Qr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Nt(nn.prototype,{then:function(e,t){var r=rn(this),n=sn(sr(this,nn));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=lr?un.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&yn(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Gr=function(){var e=new Dr,t=en(e);this.promise=e,this.resolve=Sn(Ln,t),this.reject=Sn(kn,t)},$r.f=sn=function(e){return e===nn||e===Xr?new Gr(e):fn(e)},"function"==typeof Ht&&(Vr=Ht.prototype.then,te(Ht.prototype,"then",(function(e,t){var r=this;return new nn((function(e,t){Vr.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof cn&&Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Jr(nn,cn.apply(i,arguments))}}))),Te({global:!0,wrap:!0,forced:pn},{Promise:nn}),Gt(nn,Qr,!1),function(e){var t=oe(e),r=T.f;u&&t&&!t[Xt]&&r(t,Xt,{configurable:!0,get:function(){return this}})}(Qr),Xr=oe(Qr),Te({target:Qr,stat:!0,forced:pn},{reject:function(e){var t=sn(this);return t.reject.call(void 0,e),t.promise}}),Te({target:Qr,stat:!0,forced:pn},{resolve:function(e){return Jr(this,e)}}),Te({target:Qr,stat:!0,forced:vn},{all:function(e){var t=this,r=sn(t),n=r.resolve,o=r.reject,i=Yr((function(){var r=Ue(t.resolve),i=[],a=0,u=1;er(e,(function(e){var c=a++,s=!1;i.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,i[c]=e,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=sn(t),n=r.reject,o=Yr((function(){var o=Ue(t.resolve);er(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var Rn=!!Ht&&a((function(){Ht.prototype.finally.call({then:function(){}},(function(){}))}));Te({target:"Promise",proto:!0,real:!0,forced:Rn},{finally:function(e){var t=sr(this,oe("Promise")),r="function"==typeof e;return this.then(r?function(r){return Jr(t,e()).then((function(){return r}))}:e,r?function(r){return Jr(t,e()).then((function(){throw r}))}:e)}}),"function"!=typeof Ht||Ht.prototype.finally||te(Ht.prototype,"finally",oe("Promise").prototype.finally);var jn,An,En,On=function(e){return function(t,r){var n,o,i=String(y(t)),a=ue(r),u=i.length;return a<0||a>=u?e?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Pn={codeAt:On(!1),charAt:On(!0)},Tn=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Un=z("IE_PROTO"),xn=Object.prototype,qn=Tn?Object.getPrototypeOf:function(e){return e=qe(e),S(e,Un)?e[Un]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?xn:null},In=Ne("iterator"),Mn=!1;[].keys&&("next"in(En=[].keys())?(An=qn(qn(En)))!==Object.prototype&&(jn=An):Mn=!0),null==jn&&(jn={}),S(jn,In)||U(jn,In,(function(){return this}));var Cn={IteratorPrototype:jn,BUGGY_SAFARI_ITERATORS:Mn},Fn=Cn.IteratorPrototype,_n=function(){return this},Hn=function(e,t,r){var n=t+" Iterator";return e.prototype=st(Fn,{next:l(1,r)}),Gt(e,n,!1),zt[n]=_n,e},Nn=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(ba){}return function(r,n){return O(r),function(e){if(!m(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),Bn=Cn.IteratorPrototype,Dn=Cn.BUGGY_SAFARI_ITERATORS,Gn=Ne("iterator"),Xn=function(){return this},Vn=function(e,t,r,n,o,i,a){Hn(r,t,n);var u,c,s,f=function(e){if(e===o&&d)return d;if(!Dn&&e in p)return p[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},l=t+" Iterator",h=!1,p=e.prototype,v=p[Gn]||p["@@iterator"]||o&&p[o],d=!Dn&&v||f(o),y="Array"==t&&p.entries||v;if(y&&(u=qn(y.call(new e)),Bn!==Object.prototype&&u.next&&(qn(u)!==Bn&&(Nn?Nn(u,Bn):"function"!=typeof u[Gn]&&U(u,Gn,Xn)),Gt(u,l,!0))),"values"==o&&v&&"values"!==v.name&&(h=!0,d=function(){return v.call(this)}),p[Gn]!==d&&U(p,Gn,d),zt[t]=d,o)if(c={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(s in c)(Dn||h||!(s in p))&&te(p,s,c[s]);else Te({target:t,proto:!0,forced:Dn||h},c);return c},zn=Pn.charAt,Wn=ee.set,$n=ee.getterFor("String Iterator");Vn(String,"String",(function(e){Wn(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=$n(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=zn(r,n),t.index+=e.length,{value:e,done:!1})}));var Jn=function(e,t){var r=this;if(!(r instanceof Jn))return new Jn(e,t);Nn&&(r=Nn(new Error(void 0),qn(r))),void 0!==t&&U(r,"message",String(t));var n=[];return er(e,n.push,{that:n}),U(r,"errors",n),r};Jn.prototype=st(Error.prototype,{constructor:l(5,Jn),message:l(5,""),name:l(5,"AggregateError")}),Te({global:!0},{AggregateError:Jn}),Te({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=$r.f(t),n=r.resolve,o=r.reject,i=Yr((function(){var r=Ue(t.resolve),o=[],i=0,a=1;er(e,(function(e){var u=i++,c=!1;o.push(void 0),a++,r.call(t,e).then((function(e){c||(c=!0,o[u]={status:"fulfilled",value:e},--a||n(o))}),(function(e){c||(c=!0,o[u]={status:"rejected",reason:e},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});Te({target:"Promise",stat:!0},{any:function(e){var t=this,r=$r.f(t),n=r.resolve,o=r.reject,i=Yr((function(){var r=Ue(t.resolve),i=[],a=0,u=1,c=!1;er(e,(function(e){var s=a++,f=!1;i.push(void 0),u++,r.call(t,e).then((function(e){f||c||(c=!0,n(e))}),(function(e){f||c||(f=!0,i[s]=e,--u||o(new(oe("AggregateError"))(i,"No one promise resolved")))}))})),--u||o(new(oe("AggregateError"))(i,"No one promise resolved"))}));return i.error&&o(i.value),r.promise}}),Te({target:"Promise",stat:!0},{try:function(e){var t=$r.f(this),r=Yr(e);return(r.error?t.reject:t.resolve)(r.value),t.promise}});var Yn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Kn=ee.set,Zn=ee.getterFor("Array Iterator"),Qn=Vn(Array,"Array",(function(e,t){Kn(this,{type:"Array Iterator",target:g(e),index:0,kind:t})}),(function(){var e=Zn(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");zt.Arguments=zt.Array,ht("keys"),ht("values"),ht("entries");var eo=Ne("iterator"),to=Ne("toStringTag"),ro=Qn.values;for(var no in Yn){var oo=i[no],io=oo&&oo.prototype;if(io){if(io[eo]!==ro)try{U(io,eo,ro)}catch(ba){io[eo]=ro}if(io[to]||U(io,to,no),Yn[no])for(var ao in Qn)if(io[ao]!==Qn[ao])try{U(io,ao,Qn[ao])}catch(ba){io[ao]=Qn[ao]}}}var uo=Ne("iterator"),co=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[uo]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),so=function(e,t,r,n){try{return n?t(O(r)[0],r[1]):t(r)}catch(ba){throw Zt(e),ba}},fo=function(e,t,r){var n=w(t);n in e?T.f(e,n,l(0,r)):e[n]=r},lo=function(e){var t,r,n,o,i,a,u=qe(e),c="function"==typeof this?this:Array,s=arguments.length,f=s>1?arguments[1]:void 0,l=void 0!==f,h=Kt(u),p=0;if(l&&(f=xe(f,s>2?arguments[2]:void 0,2)),null==h||c==Array&&Jt(h))for(r=new c(t=se(u.length));t>p;p++)a=l?f(u[p],p):u[p],fo(r,p,a);else for(i=(o=h.call(u)).next,r=new c;!(n=i.call(o)).done;p++)a=l?so(o,f,[n.value,p],!0):n.value,fo(r,p,a);return r.length=p,r},ho=/[^\0-\u007E]/,po=/[.\u3002\uFF0E\uFF61]/g,vo="Overflow: input needs wider integers to process",yo=Math.floor,go=String.fromCharCode,mo=function(e){return e+22+75*(e<26)},wo=function(e,t,r){var n=0;for(e=r?yo(e/700):e>>1,e+=yo(e/t);e>455;n+=36)e=yo(e/35);return yo(n+36*e/(e+38))},bo=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e)).length,i=128,a=0,u=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(go(r));var c=n.length,s=c;for(c&&n.push("-");s<o;){var f=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=i&&r<f&&(f=r);var l=s+1;if(f-i>yo((2147483647-a)/l))throw RangeError(vo);for(a+=(f-i)*l,i=f,t=0;t<e.length;t++){if((r=e[t])<i&&++a>2147483647)throw RangeError(vo);if(r==i){for(var h=a,p=36;;p+=36){var v=p<=u?1:p>=u+26?26:p-u;if(h<v)break;var d=h-v,y=36-v;n.push(go(mo(v+d%y))),h=yo(d/y)}n.push(go(mo(h))),u=wo(a,l,s==c),a=0,++s}}++a,++i}return n.join("")},So=function(e){var t=Kt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return O(t.call(e))},ko=oe("fetch"),Lo=oe("Headers"),Ro=Ne("iterator"),jo=ee.set,Ao=ee.getterFor("URLSearchParams"),Eo=ee.getterFor("URLSearchParamsIterator"),Oo=/\+/g,Po=Array(4),To=function(e){return Po[e-1]||(Po[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Uo=function(e){try{return decodeURIComponent(e)}catch(ba){return e}},xo=function(e){var t=e.replace(Oo," "),r=4;try{return decodeURIComponent(t)}catch(ba){for(;r;)t=t.replace(To(r--),Uo);return t}},qo=/[!'()~]|%20/g,Io={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Mo=function(e){return Io[e]},Co=function(e){return encodeURIComponent(e).replace(qo,Mo)},Fo=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:xo(n.shift()),value:xo(n.join("="))}))},_o=function(e){this.entries.length=0,Fo(this.entries,e)},Ho=function(e,t){if(e<t)throw TypeError("Not enough arguments")},No=Hn((function(e,t){jo(this,{type:"URLSearchParamsIterator",iterator:So(Ao(e).entries),kind:t})}),"Iterator",(function(){var e=Eo(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),Bo=function(){Vt(this,Bo,"URLSearchParams");var e,t,r,n,o,i,a,u,c,s=arguments.length>0?arguments[0]:void 0,f=this,l=[];if(jo(f,{type:"URLSearchParams",entries:l,updateURL:function(){},updateSearchParams:_o}),void 0!==s)if(m(s))if("function"==typeof(e=Kt(s)))for(r=(t=e.call(s)).next;!(n=r.call(t)).done;){if((a=(i=(o=So(O(n.value))).next).call(o)).done||(u=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");l.push({key:a.value+"",value:u.value+""})}else for(c in s)S(s,c)&&l.push({key:c,value:s[c]+""});else Fo(l,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},Do=Bo.prototype;Nt(Do,{append:function(e,t){Ho(arguments.length,2);var r=Ao(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){Ho(arguments.length,1);for(var t=Ao(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){Ho(arguments.length,1);for(var t=Ao(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){Ho(arguments.length,1);for(var t=Ao(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){Ho(arguments.length,1);for(var t=Ao(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){Ho(arguments.length,1);for(var r,n=Ao(this),o=n.entries,i=!1,a=e+"",u=t+"",c=0;c<o.length;c++)(r=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,r.value=u));i||o.push({key:a,value:u}),n.updateURL()},sort:function(){var e,t,r,n=Ao(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=Ao(this).entries,n=xe(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new No(this,"keys")},values:function(){return new No(this,"values")},entries:function(){return new No(this,"entries")}},{enumerable:!0}),te(Do,Ro,Do.entries),te(Do,"toString",(function(){for(var e,t=Ao(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(Co(e.key)+"="+Co(e.value));return r.join("&")}),{enumerable:!0}),Gt(Bo,"URLSearchParams"),Te({global:!0,forced:!co},{URLSearchParams:Bo}),co||"function"!=typeof ko||"function"!=typeof Lo||Te({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(r=t.body,"URLSearchParams"===Ft(r)&&((n=t.headers?new Lo(t.headers):new Lo).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=st(t,{body:l(0,String(r)),headers:l(0,n)}))),o.push(t)),ko.apply(this,o)}});var Go,Xo={URLSearchParams:Bo,getState:Ao},Vo=Pn.codeAt,zo=i.URL,Wo=Xo.URLSearchParams,$o=Xo.getState,Jo=ee.set,Yo=ee.getterFor("URL"),Ko=Math.floor,Zo=Math.pow,Qo=/[A-Za-z]/,ei=/[\d+-.A-Za-z]/,ti=/\d/,ri=/^(0x|0X)/,ni=/^[0-7]+$/,oi=/^\d+$/,ii=/^[\dA-Fa-f]+$/,ai=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,ui=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ci=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,si=/[\u0009\u000A\u000D]/g,fi=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=hi(t.slice(1,-1))))return"Invalid host";e.host=r}else if(bi(e)){if(t=function(e){var t,r,n=[],o=e.toLowerCase().replace(po,".").split(".");for(t=0;t<o.length;t++)r=o[t],n.push(ho.test(r)?"xn--"+bo(r):r);return n.join(".")}(t),ai.test(t))return"Invalid host";if(null===(r=li(t)))return"Invalid host";e.host=r}else{if(ui.test(t))return"Invalid host";for(r="",n=lo(t),o=0;o<n.length;o++)r+=mi(n[o],vi);e.host=r}},li=function(e){var t,r,n,o,i,a,u,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=c[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=ri.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?oi:8==i?ni:ii).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=Zo(256,5-t))return null}else if(a>255)return null;for(u=r.pop(),n=0;n<r.length;n++)u+=r[n]*Zo(256,3-n);return u},hi=function(e){var t,r,n,o,i,a,u,c=[0,0,0,0,0,0,0,0],s=0,f=null,l=0,h=function(){return e.charAt(l)};if(":"==h()){if(":"!=e.charAt(1))return;l+=2,f=++s}for(;h();){if(8==s)return;if(":"!=h()){for(t=r=0;r<4&&ii.test(h());)t=16*t+parseInt(h(),16),l++,r++;if("."==h()){if(0==r)return;if(l-=r,s>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;l++}if(!ti.test(h()))return;for(;ti.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;l++}c[s]=256*c[s]+o,2!=++n&&4!=n||s++}if(4!=n)return;break}if(":"==h()){if(l++,!h())return}else if(h())return;c[s++]=t}else{if(null!==f)return;l++,f=++s}}if(null!==f)for(a=s-f,s=7;0!=s&&a>0;)u=c[s],c[s--]=c[f+a-1],c[f+--a]=u;else if(8!=s)return;return c},pi=function(e){var t,r,o,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=Ko(e/256);return t.join(".")}if("object"==n(e)){for(t="",o=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),o===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},vi={},di=Ut({},vi,{" ":1,'"':1,"<":1,">":1,"`":1}),yi=Ut({},di,{"#":1,"?":1,"{":1,"}":1}),gi=Ut({},yi,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),mi=function(e,t){var r=Vo(e,0);return r>32&&r<127&&!S(t,e)?e:encodeURIComponent(e)},wi={ftp:21,file:null,http:80,https:443,ws:80,wss:443},bi=function(e){return S(wi,e.scheme)},Si=function(e){return""!=e.username||""!=e.password},ki=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Li=function(e,t){var r;return 2==e.length&&Qo.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Ri=function(e){var t;return e.length>1&&Li(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ji=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Li(t[0],!0)||t.pop()},Ai=function(e){return"."===e||"%2e"===e.toLowerCase()},Ei={},Oi={},Pi={},Ti={},Ui={},xi={},qi={},Ii={},Mi={},Ci={},Fi={},_i={},Hi={},Ni={},Bi={},Di={},Gi={},Xi={},Vi={},zi={},Wi={},$i=function(e,t,r,n){var o,i,a,u,c,s=r||Ei,f=0,l="",h=!1,p=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(ci,"")),t=t.replace(si,""),o=lo(t);f<=o.length;){switch(i=o[f],s){case Ei:if(!i||!Qo.test(i)){if(r)return"Invalid scheme";s=Pi;continue}l+=i.toLowerCase(),s=Oi;break;case Oi:if(i&&(ei.test(i)||"+"==i||"-"==i||"."==i))l+=i.toLowerCase();else{if(":"!=i){if(r)return"Invalid scheme";l="",s=Pi,f=0;continue}if(r&&(bi(e)!=S(wi,l)||"file"==l&&(Si(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,r)return void(bi(e)&&wi[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?s=Ni:bi(e)&&n&&n.scheme==e.scheme?s=Ti:bi(e)?s=Ii:"/"==o[f+1]?(s=Ui,f++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Vi)}break;case Pi:if(!n||n.cannotBeABaseURL&&"#"!=i)return"Invalid scheme";if(n.cannotBeABaseURL&&"#"==i){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,s=Wi;break}s="file"==n.scheme?Ni:xi;continue;case Ti:if("/"!=i||"/"!=o[f+1]){s=xi;continue}s=Mi,f++;break;case Ui:if("/"==i){s=Ci;break}s=Xi;continue;case xi:if(e.scheme=n.scheme,i==Go)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==i||"\\"==i&&bi(e))s=qi;else if("?"==i)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",s=zi;else{if("#"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),s=Xi;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Wi}break;case qi:if(!bi(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,s=Xi;continue}s=Ci}else s=Mi;break;case Ii:if(s=Mi,"/"!=i||"/"!=l.charAt(f+1))continue;f++;break;case Mi:if("/"!=i&&"\\"!=i){s=Ci;continue}break;case Ci:if("@"==i){h&&(l="%40"+l),h=!0,a=lo(l);for(var d=0;d<a.length;d++){var y=a[d];if(":"!=y||v){var g=mi(y,gi);v?e.password+=g:e.username+=g}else v=!0}l=""}else if(i==Go||"/"==i||"?"==i||"#"==i||"\\"==i&&bi(e)){if(h&&""==l)return"Invalid authority";f-=lo(l).length+1,l="",s=Fi}else l+=i;break;case Fi:case _i:if(r&&"file"==e.scheme){s=Di;continue}if(":"!=i||p){if(i==Go||"/"==i||"?"==i||"#"==i||"\\"==i&&bi(e)){if(bi(e)&&""==l)return"Invalid host";if(r&&""==l&&(Si(e)||null!==e.port))return;if(u=fi(e,l))return u;if(l="",s=Gi,r)return;continue}"["==i?p=!0:"]"==i&&(p=!1),l+=i}else{if(""==l)return"Invalid host";if(u=fi(e,l))return u;if(l="",s=Hi,r==_i)return}break;case Hi:if(!ti.test(i)){if(i==Go||"/"==i||"?"==i||"#"==i||"\\"==i&&bi(e)||r){if(""!=l){var m=parseInt(l,10);if(m>65535)return"Invalid port";e.port=bi(e)&&m===wi[e.scheme]?null:m,l=""}if(r)return;s=Gi;continue}return"Invalid port"}l+=i;break;case Ni:if(e.scheme="file","/"==i||"\\"==i)s=Bi;else{if(!n||"file"!=n.scheme){s=Xi;continue}if(i==Go)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==i)e.host=n.host,e.path=n.path.slice(),e.query="",s=zi;else{if("#"!=i){Ri(o.slice(f).join(""))||(e.host=n.host,e.path=n.path.slice(),ji(e)),s=Xi;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Wi}}break;case Bi:if("/"==i||"\\"==i){s=Di;break}n&&"file"==n.scheme&&!Ri(o.slice(f).join(""))&&(Li(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),s=Xi;continue;case Di:if(i==Go||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&Li(l))s=Xi;else if(""==l){if(e.host="",r)return;s=Gi}else{if(u=fi(e,l))return u;if("localhost"==e.host&&(e.host=""),r)return;l="",s=Gi}continue}l+=i;break;case Gi:if(bi(e)){if(s=Xi,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=Go&&(s=Xi,"/"!=i))continue}else e.fragment="",s=Wi;else e.query="",s=zi;break;case Xi:if(i==Go||"/"==i||"\\"==i&&bi(e)||!r&&("?"==i||"#"==i)){if(".."===(c=(c=l).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(ji(e),"/"==i||"\\"==i&&bi(e)||e.path.push("")):Ai(l)?"/"==i||"\\"==i&&bi(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Li(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(i==Go||"?"==i||"#"==i))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",s=zi):"#"==i&&(e.fragment="",s=Wi)}else l+=mi(i,yi);break;case Vi:"?"==i?(e.query="",s=zi):"#"==i?(e.fragment="",s=Wi):i!=Go&&(e.path[0]+=mi(i,vi));break;case zi:r||"#"!=i?i!=Go&&("'"==i&&bi(e)?e.query+="%27":e.query+="#"==i?"%23":mi(i,vi)):(e.fragment="",s=Wi);break;case Wi:i!=Go&&(e.fragment+=mi(i,di))}f++}},Ji=function(e){var t,r,n=Vt(this,Ji,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),a=Jo(n,{type:"URL"});if(void 0!==o)if(o instanceof Ji)t=Yo(o);else if(r=$i(t={},String(o)))throw TypeError(r);if(r=$i(a,i,null,t))throw TypeError(r);var c=a.searchParams=new Wo,s=$o(c);s.updateSearchParams(a.query),s.updateURL=function(){a.query=String(c)||null},u||(n.href=Ki.call(n),n.origin=Zi.call(n),n.protocol=Qi.call(n),n.username=ea.call(n),n.password=ta.call(n),n.host=ra.call(n),n.hostname=na.call(n),n.port=oa.call(n),n.pathname=ia.call(n),n.search=aa.call(n),n.searchParams=ua.call(n),n.hash=ca.call(n))},Yi=Ji.prototype,Ki=function(){var e=Yo(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,u=e.query,c=e.fragment,s=t+":";return null!==o?(s+="//",Si(e)&&(s+=r+(n?":"+n:"")+"@"),s+=pi(o),null!==i&&(s+=":"+i)):"file"==t&&(s+="//"),s+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==u&&(s+="?"+u),null!==c&&(s+="#"+c),s},Zi=function(){var e=Yo(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(ba){return"null"}return"file"!=t&&bi(e)?t+"://"+pi(e.host)+(null!==r?":"+r:""):"null"},Qi=function(){return Yo(this).scheme+":"},ea=function(){return Yo(this).username},ta=function(){return Yo(this).password},ra=function(){var e=Yo(this),t=e.host,r=e.port;return null===t?"":null===r?pi(t):pi(t)+":"+r},na=function(){var e=Yo(this).host;return null===e?"":pi(e)},oa=function(){var e=Yo(this).port;return null===e?"":String(e)},ia=function(){var e=Yo(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},aa=function(){var e=Yo(this).query;return e?"?"+e:""},ua=function(){return Yo(this).searchParams},ca=function(){var e=Yo(this).fragment;return e?"#"+e:""},sa=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(u&&nt(Yi,{href:sa(Ki,(function(e){var t=Yo(this),r=String(e),n=$i(t,r);if(n)throw TypeError(n);$o(t.searchParams).updateSearchParams(t.query)})),origin:sa(Zi),protocol:sa(Qi,(function(e){var t=Yo(this);$i(t,String(e)+":",Ei)})),username:sa(ea,(function(e){var t=Yo(this),r=lo(String(e));if(!ki(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=mi(r[n],gi)}})),password:sa(ta,(function(e){var t=Yo(this),r=lo(String(e));if(!ki(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=mi(r[n],gi)}})),host:sa(ra,(function(e){var t=Yo(this);t.cannotBeABaseURL||$i(t,String(e),Fi)})),hostname:sa(na,(function(e){var t=Yo(this);t.cannotBeABaseURL||$i(t,String(e),_i)})),port:sa(oa,(function(e){var t=Yo(this);ki(t)||(""==(e=String(e))?t.port=null:$i(t,e,Hi))})),pathname:sa(ia,(function(e){var t=Yo(this);t.cannotBeABaseURL||(t.path=[],$i(t,e+"",Gi))})),search:sa(aa,(function(e){var t=Yo(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",$i(t,e,zi)),$o(t.searchParams).updateSearchParams(t.query)})),searchParams:sa(ua),hash:sa(ca,(function(e){var t=Yo(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",$i(t,e,Wi)):t.fragment=null}))}),te(Yi,"toJSON",(function(){return Ki.call(this)}),{enumerable:!0}),te(Yi,"toString",(function(){return Ki.call(this)}),{enumerable:!0}),zo){var fa=zo.createObjectURL,la=zo.revokeObjectURL;fa&&te(Ji,"createObjectURL",(function(e){return fa.apply(zo,arguments)})),la&&te(Ji,"revokeObjectURL",(function(e){return la.apply(zo,arguments)}))}Gt(Ji,"URL"),Te({global:!0,forced:!co,sham:!u},{URL:Ji}),Te({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var ha=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function pa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var va=function(e,t,r){return t&&pa(e.prototype,t),r&&pa(e,r),e},da="fetch"in window,ya="Request"in window,ga="Headers"in window,ma={POST:"*",PUT:"*",PATCH:"*",DELETE:"*"},wa=new(function(){function e(){ha(this,e),this.tokenFetchPath="/secsdk_csrf_token",this.tokenHeaderName="x-secsdk-csrf-token",this.tokenFetchTimeout=1e4,this.nativeXMLHttpRequestOpen=window.XMLHttpRequest.prototype.open,this.nativeXMLHttpRequestSend=window.XMLHttpRequest.prototype.send,this.nativeFetch=window.fetch,this.tokenMap={},this.protectionConfig={},this.monkeyPatchXMLHttpRequest(),this.monkeyPatchFetch()}return va(e,[{key:"setProtectedHost",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;this.protectionConfig={},"string"==typeof t?this.protectionConfig[t]=Object.assign({},ma):Array.isArray(t)?t.forEach((function(t){e.protectionConfig[t]=Object.assign({},ma)})):"[object Object]"===Object.prototype.toString.call(t)&&Object.keys(t).forEach((function(r){e.protectionConfig[r]=Object.assign({},ma);var n=t[r];"[object Object]"===Object.prototype.toString.call(n)&&Object.keys(n).forEach((function(t){e.protectionConfig[r][t.toUpperCase()]=n[t]}))})),Object.keys(this.protectionConfig).forEach((function(t){return e.fetchToken(t)}))}},{key:"fetchToken",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;return Array.isArray(t)?Promise.all(t.map((function(t){return e.fetchToken(t)}))):(this.tokenMap[t]||(this.tokenMap[t]=this.fetchTokenFromServer(t).then((function(r){return e.tokenMap[t]=r,r}))),Promise.resolve(this.tokenMap[t]).then((function(r){return r.expiredAt<Date.now()?(delete e.tokenMap[t],e.fetchToken(t)):r})))}},{key:"fetchTokenFromLocal",value:function(e){var t=this.tokenMap[e];return!t||t instanceof Promise?"DOWNGRADE":t.value}},{key:"fetchTokenFromServer",value:function(e){var t=this;return new Promise((function(r){var n=new XMLHttpRequest,o={value:"DOWNGRADE",expiredAt:Date.now()+6e4};n.addEventListener("load",(function(){if(200!==n.status)return console.error(new Error("Failed to fetch csrf token: host=".concat(e," status=").concat(n.status," statusText=").concat(n.statusText))),void r(o);var t;try{t=JSON.parse(n.responseText)}catch(a){return console.error(new Error("Failed to parse csrf token: host=".concat(e," responseText=").concat(n.responseText," error=").concat(a.message))),void r(o)}if(0!==t.status_code)return console.error(new Error("Failed to fetch csrf token: host=".concat(e," status_code=").concat(t.status_code," message=").concat(t.message))),void r(o);if(!t.data||!t.data.token)return console.error(new Error("Failed to fetch csrf token, empty token: host=".concat(e," data=").concat(t.data))),void r(o);var i=t.data.max_age||864e5;r({value:t.data.token,expiredAt:Date.now()+i})})),n.addEventListener("error",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request failed"))),r(o)})),n.addEventListener("abort",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=network request aborted"))),r(o)})),n.addEventListener("timeout",(function(){console.error(new Error("Failed to fetch csrf token: host=".concat(e," error=timeout"))),r(o)})),t.nativeXMLHttpRequestOpen.call(n,"GET","".concat(window.location.protocol,"//").concat(e).concat(t.tokenFetchPath)),n.withCredentials=!0,n.timeout=t.tokenFetchTimeout,t.nativeXMLHttpRequestSend.call(n)}))}},{key:"shouldProtectRequest",value:function(e,t,r){t=t.toUpperCase();var n=this.protectionConfig;if(!n[e])return!1;if(!n[e][t])return!1;var o=n[e][t];return o instanceof RegExp?o.test(r):Array.isArray(o)?o.some((function(e){return e instanceof RegExp?e.test(r):e===r})):"*"===o||o===r}},{key:"monkeyPatchXMLHttpRequest",value:function(){var e=this;XMLHttpRequest.prototype.open=function(){this.openArgs=arguments,e.nativeXMLHttpRequestOpen.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){var t=this,r=this.openArgs,n=arguments,o=r[0]||"GET",i=new URL(r[1],window.location.href);if(!e.shouldProtectRequest(i.host,o,i.pathname))return e.nativeXMLHttpRequestSend.apply(this,n);if(r.length>=3&&!r[2]){var a=e.fetchTokenFromLocal(i.host);return this.setRequestHeader(e.tokenHeaderName,a),e.nativeXMLHttpRequestSend.apply(this,n)}e.fetchToken(i.host).then((function(r){t.setRequestHeader(e.tokenHeaderName,r.value),e.nativeXMLHttpRequestSend.apply(t,n)}))}}},{key:"monkeyPatchFetch",value:function(){if(da){var e=this;window.fetch=function(t,r){var n,o,i=this;ya&&t instanceof Request?(n=t.url,o=t.method):(n=t,o=r&&r.method?r.method:"GET");var a=new URL(n,window.location.href);return e.shouldProtectRequest(a.host,o,a.pathname)?e.fetchToken(a.host).then((function(n){if(ya&&t instanceof Request)t.headers.set(e.tokenHeaderName,n.value);else if((r=r||{}).headers=r.headers||{},ga&&r.headers instanceof Headers)r.headers.set(e.tokenHeaderName,n.value);else if(Array.isArray(r.headers)){var o=!1;r.headers.forEach((function(t){t[0]===e.tokenHeaderName&&(t[1]=n.value,o=!0)})),o||r.headers.push([e.tokenHeaderName,n.value])}else r.headers[e.tokenHeaderName]=n.value;return e.nativeFetch.apply(i,[t,r])})):e.nativeFetch.apply(this,[t,r])}}}}]),e}());e.csrf=wa,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.js.map
