(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[62],{"0UP8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var o=String(e),n=Number(t)>>>0,i=o.slice(0,n+1).search(/\S+$/),r=o.slice(n).search(/\s/);return r<0?{word:o.slice(i),begin:i,end:o.length}:{word:o.slice(i,r+n),begin:i,end:r+n}}},"1ezk":function(e,t){e.exports=function(){return!1}},"2wRU":function(e,t,o){var n=o("GI0s"),i=o("ckUF"),r=o("T9Ud"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!a[n(e)]}},"3KMs":function(e,t,o){"use strict";o.r(t);var n=o("hisu"),i=o("yBJb"),r=o("CHlC"),a=o("kMo5"),s=o("P+uj"),l=o("YIwv"),c=o.n(l),u=o("mXGw"),p=o.n(u),d=o("O0Ep"),f=o("/m4v"),m=o("8Jek"),h=o.n(m),g=o("97Lw"),v=o("NTCQ"),j=[".comment-post-inner-wrapper.jsx-2175848453{position:relative;z-index:2;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;margin-bottom:-5px;}",".is-rtl .comment-post-inner-wrapper.jsx-2175848453{direction:rtl;}",".comment-post-inner-wrapper.is-rtl.jsx-2175848453{direction:rtl;}",".comment-post-inner-wrapper.mobile.jsx-2175848453{width:100%;margin-bottom:0;padding:8px 12px;border-top:0.5px solid rgba(22,24,35,0.12);background:#fff;}",'.comment-post-inner-wrapper.mobile.jsx-2175848453 .post-container.jsx-2175848453{width:28px;height:28px;margin:0 0 5px 12px;background-image:url("'.concat(o.n(v).a,'");background-size:28px;background-repeat:no-repeat;background-position:center;}'),".is-rtl .comment-post-inner-wrapper.mobile.jsx-2175848453 .post-container.jsx-2175848453{direction:rtl;margin:0 12px 5px 0;}",".comment-post-inner-wrapper.mobile.jsx-2175848453 .post-container.is-rtl.jsx-2175848453{direction:rtl;margin:0 12px 5px 0;}",".comment-post-inner-wrapper.mobile.jsx-2175848453 .disable-text.jsx-2175848453{font-size:13px;line-height:17px;}",'.comment-post-inner-wrapper.jsx-2175848453 .disable-text.jsx-2175848453{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:16px;line-height:22px;color:rgba(22,24,35,0.75);}','html[lang^="vi"] .comment-post-inner-wrapper.jsx-2175848453 .disable-text.jsx-2175848453{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}',".comment-post-inner-wrapper.jsx-2175848453 .comment-input-outside-container.jsx-2175848453{-webkit-flex:1;-ms-flex:1;flex:1;}",'.comment-post-inner-wrapper.jsx-2175848453 .post-container.jsx-2175848453{font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;margin:0 4px 12px 16px;font-size:14px;color:rgba(22,24,35,0.34);line-height:14px;cursor:default;}','html[lang^="vi"] .comment-post-inner-wrapper.jsx-2175848453 .post-container.jsx-2175848453{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}',".comment-post-inner-wrapper.jsx-2175848453 .post-container.active.jsx-2175848453{cursor:pointer;color:#fe2c55;}",".is-rtl .comment-post-inner-wrapper.jsx-2175848453 .post-container.jsx-2175848453{direction:rtl;margin:0 16px 12px 4px;}",".comment-post-inner-wrapper.jsx-2175848453 .post-container.is-rtl.jsx-2175848453{direction:rtl;margin:0 16px 12px 4px;}"];j.__hash="2175848453";var b=j,x=o("NthX"),y=o.n(x),S=o("eijD"),w=o("r4em"),_=o.n(w),P=o("gtsl"),E=o.n(P),k=o("ySVI"),O=o.n(k),C=o("BhRB"),T=o("lNap"),M=o.n(T),R=o("a/8U"),N=o.n(R),I=[".comment-input-inner-wrapper.jsx-682372480{position:relative;box-sizing:border-box;background:rgba(22,24,35,0.06);border:1px solid transparent;border-radius:8px;}",".comment-input-inner-wrapper.focus.jsx-682372480{border:1px solid rgba(22,24,35,0.2);}",".comment-input-inner-wrapper.mobile.jsx-682372480{position:static;}",".comment-input-inner-wrapper.mobile.focus.jsx-682372480{border:1px solid transparent;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;margin:0 0 0 16px;}",".is-rtl .comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480{direction:rtl;margin:0 16px 0 0;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.is-rtl.jsx-682372480{direction:rtl;margin:0 16px 0 0;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480{position:static;width:22px;height:22px;margin:0 14px 7px 12px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480:hover{opacity:1;}",".is-rtl .comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480{direction:rtl;margin:0 12px 7px 14px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .at-icon.is-rtl.jsx-682372480{direction:rtl;margin:0 12px 7px 14px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .emoji-container.jsx-682372480{position:static;bottom:0;width:22px;height:22px;margin-right:9px;margin-bottom:10px;}",".is-rtl .comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .emoji-container.jsx-682372480{direction:rtl;margin-right:0;margin-left:9px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .emoji-container.is-rtl.jsx-682372480{direction:rtl;margin-right:0;margin-left:9px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .DraftEditor-root{-webkit-flex:1;-ms-flex:1;flex:1;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root{top:18px;left:29px;color:rgba(22,24,35,0.35);}",".is-rtl .comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root{direction:rtl;left:unset;right:29px;}",".comment-input-inner-wrapper.mobile.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root .is-rtl.jsx-682372480{direction:rtl;left:unset;right:29px;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480{box-sizing:border-box;cursor:text;margin:0 90px 0 16px;padding:0;word-break:break-all;white-space:pre-line;}",".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480{direction:rtl;margin:0 16px 0 90px;}",".comment-input-inner-wrapper.jsx-682372480 .editor.is-rtl.jsx-682372480{direction:rtl;margin:0 16px 0 90px;}",'.comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480{position:absolute;bottom:2px;right:54px;width:32px;height:32px;background-image:url("'.concat(M.a,'");background-size:24px;background-position:center;background-repeat:no-repeat;cursor:pointer;}'),".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480:hover{opacity:.75;background-color:transparent;}",".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .at-icon.jsx-682372480{direction:rtl;left:54px;right:unset;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .at-icon.is-rtl.jsx-682372480{direction:rtl;left:54px;right:unset;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .emoji-container.jsx-682372480{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;bottom:2px;right:11px;width:32px;height:32px;cursor:pointer;}",".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .emoji-container.jsx-682372480{direction:rtl;left:11px;right:unset;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .emoji-container.is-rtl.jsx-682372480{direction:rtl;left:11px;right:unset;}",'.comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .delete-icon.jsx-682372480{position:absolute;z-index:1001;bottom:29px;right:4px;width:64px;height:56px;background-image:url("'.concat(N.a,'");background-size:64px 56px;}'),".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .delete-icon.jsx-682372480{direction:rtl;left:4px;right:unset;-webkit-transform:rotateY(180deg);-ms-transform:rotateY(180deg);transform:rotateY(180deg);}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .delete-icon.is-rtl.jsx-682372480{direction:rtl;left:4px;right:unset;-webkit-transform:rotateY(180deg);-ms-transform:rotateY(180deg);transform:rotateY(180deg);}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .word-num-container.jsx-682372480{margin:-3px 0 6px;font-size:0;color:rgba(88,99,165,0.5);}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .word-num-container.warn.jsx-682372480{color:rgba(255,76,58,0.92);}",'.comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .word-num-container.jsx-682372480 span.jsx-682372480{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:15px;line-height:18px;}','html[lang^="vi"] .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .word-num-container.jsx-682372480 span.jsx-682372480{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}','.comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditor-content{border-style:none;outline-style:none;min-height:18px;max-height:80px;margin:9px 0;line-height:18px;font-size:15px;font-family:"proxima-regular",PingFangSC;font-weight:400;overflow:auto;caret-color:#FE2C55;word-break:break-word;}',".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditor-content{direction:rtl;text-align:right;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditor-content .is-rtl.jsx-682372480{direction:rtl;text-align:right;}",'.comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root{position:absolute;z-index:-1;top:10px;left:17px;font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:15px;line-height:18px;color:rgba(22,24,35,0.75);}','html[lang^="vi"] .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}',".is-rtl .comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root{direction:rtl;right:17px;left:0;}",".comment-input-inner-wrapper.jsx-682372480 .editor.jsx-682372480 .public-DraftEditorPlaceholder-root .is-rtl.jsx-682372480{direction:rtl;right:17px;left:0;}"];I.__hash="682372480";var L=I,D=[".mention,.mention:visited{color:#fe2c55;display:inline-block;padding-left:2px;padding-right:2px;border-radius:2px;-webkit-text-decoration:none;text-decoration:none;}",".mentionSuggestionsEntry{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:9px 24px;-webkit-transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);cursor:pointer;}",".mentionSuggestionsEntry:active{background-color:#f8f8f8;}",".mentionSuggestionsEntryFocused{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:9px 24px;-webkit-transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);background-color:#f8f8f8;cursor:pointer;}",".mentionSuggestionsEntryText{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:368px;}",".mentionSuggestionsEntryAvatar{display:inline-block;width:24px;height:24px;border-radius:12px;}",".mentionSuggestions{position:absolute;left:0;background:#fff;box-shadow:0 4px 16px rgba(0,0,0,0.16);border-radius:8px;width:280px;padding:8px 0;z-index:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;max-height:309px;overflow:auto;}",".is-rtl .mentionSuggestions{direction:rtl;}",".mentionSuggestions.is-rtl{direction:rtl;}",".mentionSuggestions::-webkit-scrollbar{display:none;}",".mobile .mentionSuggestions{z-index:2;top:-220px;left:0;right:0;width:unset;height:220px;padding:8px 0;max-height:none;border-radius:8px 8px 0 0;box-shadow:none;border-bottom:1px solid rgba(22,24,35,0.12);}"];D.__hash="2680752225";var A=D,B=o("jPE3"),F=o.n(B),G=o("S1aI"),q=o.n(G),z=[".emojiSelect{display:inline-block;margin-top:-1px;}",'.emojiSelectButton,.emojiSelectButtonPressed{width:24px;height:24px;margin:0;padding:0;border:none;outline:none;background-color:transparent;background-image:url("'.concat(F.a,'");background-size:24px;background-position:center;background-repeat:no-repeat;font-size:0;cursor:pointer;vertical-align:unset;}'),".emojiSelectButton:hover,.emojiSelectButtonPressed:hover{opacity:.75;}",".emojiSelectPopover{position:absolute;z-index:1000;bottom:30px;right:0;box-sizing:content-box;background:#fff;border-radius:8px;box-shadow:0 4px 16px rgba(0,0,0,0.16);cursor:auto;}",".is-rtl .emojiSelectPopover{direction:rtl;left:0;right:unset;}",".emojiSelectPopover.is-rtl{direction:rtl;left:0;right:unset;}",".emojiSelectPopoverClosed{display:none;}",".emojiSelectPopoverTitle{display:none;margin:0 0 .3em;padding-left:1em;height:2.5em;line-height:2.5em;font-weight:normal;font-size:1em;color:#9e9e9e;}",".emojiSelectPopoverGroups{position:relative;z-index:0;width:364px;height:250px;}",".emojiSelectPopoverGroup:first-child .emojiSelectPopoverGroupTitle{display:none;}",".emojiSelectPopoverGroupTitle{margin:1em 0;padding-left:.5em;font-weight:normal;font-size:1em;color:#9e9e9e;}",".emojiSelectPopoverGroupList{margin:0;padding:0;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".emojiSelectPopoverGroupItem{width:52px;height:50px;}",".emojiSelectPopoverToneSelect{position:absolute;left:0;right:0;top:0;bottom:0;z-index:2;}",".emojiSelectPopoverToneSelectList{margin:.3em;padding:.3em;position:absolute;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;list-style:none;border:1px solid #e0e0e0;border-radius:.5em;background:#fff;box-shadow:0 0 0.3em rgba(0,0,0,0.1);}",".emojiSelectPopoverToneSelectItem{width:52px;height:50px;}",".emojiSelectPopoverToneSelectItem:first-child{border-right:1px solid #e0e0e0;}",'.emojiSelectPopoverEntry,.emojiSelectPopoverEntryFocused{padding:0;width:100%;height:100%;background:none;border:none;outline:none;cursor:pointer;-webkit-transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);font-family:"proxima-regular",PingFangSC;font-size:26px;}',".emojiSelectPopoverEntryFocused{background-color:#efefef;}",".emojiSelectPopoverEntryIcon{width:1.5em;height:1.5em;vertical-align:middle;}",".emojiSelectPopoverNav{margin:0;padding:0;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:364px;height:48px;list-style:none;border-top:0.5px solid rgba(18,18,18,0.12);}",".emojiSelectPopoverNavItem{width:40px;height:40px;}",".emojiSelectPopoverNavEntry,.emojiSelectPopoverNavEntryActive{width:40px;height:40px;margin:4px;line-height:40px;font-size:24px;color:#bdbdbd;background:none;border:none;outline:none;}",".emojiSelectPopoverNavEntryActive{background-color:rgba(22,24,35,0.06);border-radius:8px;}",".emojiSelectPopoverScrollbar{position:absolute;right:0;top:.3em;bottom:.3em;width:.25em;background-color:#e0e0e0;border-radius:.125em;opacity:.1;-webkit-transition:opacity .4s;transition:opacity .4s;}",".emojiSelectPopoverScrollbarThumb{background-color:#000;border-radius:.125em;cursor:pointer;}",".emojiSelectPopoverGroups:hover .emojiSelectPopoverScrollbar{opacity:.3;}",".emojiSelectPopoverGroups .emojiSelectPopoverScrollbar:hover,.emojiSelectPopoverGroups .emojiSelectPopoverScrollbar:active{opacity:.6;}",".emoji{background-position:center;background-repeat:no-repeat;background-size:contain;vertical-align:middle;display:inline-block;overflow:hidden;max-width:1.95ch;max-height:1em;line-height:inherit;margin:-.2ex 0em .2ex;color:transparent;min-width:1em;}",".emojiSuggestionsEntry{padding:5px 10px 1px;-webkit-transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);transition:background-color 0.4s cubic-bezier(0.27,1.27,0.48,0.56);}",".emojiSuggestionsEntry:active{background-color:#cce7ff;}",".emojiSuggestionsEntryFocused{background-color:#e6f3ff;}",".emojiSuggestionsEntryText{display:inline-block;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:364px;font-size:0.9em;}",".emojiSuggestionsEntryIcon{width:1em;height:1em;margin-left:0.25em;margin-right:0.25em;display:inline-block;}",".emojiSuggestions{border:1px solid #eee;margin-top:1.75em;position:absolute;min-width:220px;max-width:440px;background:#fff;border-radius:2px;box-shadow:0px 4px 30px 0px gainsboro;cursor:pointer;padding-top:8px;padding-bottom:8px;z-index:2;display:-webkit-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;box-sizing:border-box;-webkit-transform:scale(0);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);}",'.mobile .emojiSelectButtonPressed{background-image:url("'.concat(q.a,'");}'),".mobile .emojiSelectPopover{bottom:-233px;left:0;right:unset;width:100vw;height:233px;border-radius:0;-webkit-filter:none;filter:none;}",".mobile .emojiSelectPopoverGroups{width:100vw;height:190px;background:rgba(22,24,35,0.03);}",".mobile .emojiSelectPopoverGroupItem{width:14.2vw;height:14.2vw;}",".mobile .emojiSelectPopoverNav{width:unset;height:43px;border-radius:none;}",".mobile .emojiSelectPopoverNavItem{width:unset;height:unset;}",".mobile .emojiSelectPopoverNavEntry,.mobile .emojiSelectPopoverNavEntryActive{width:52px;height:43px;margin:0;border-radius:0;line-height:43px;font-size:22px;}"];z.__hash="3497903495";var U=z,W={emojiSelect:"emojiSelect",emojiSelectButton:"emojiSelectButton",emojiSelectButtonPressed:"emojiSelectButtonPressed",emojiSelectPopover:"emojiSelectPopover",emojiSelectPopoverClosed:"emojiSelectPopoverClosed",emojiSelectPopoverTitle:"emojiSelectPopoverTitle",emojiSelectPopoverGroups:"emojiSelectPopoverGroups",emojiSelectPopoverGroup:"emojiSelectPopoverGroup",emojiSelectPopoverGroupTitle:"emojiSelectPopoverGroupTitle",emojiSelectPopoverGroupList:"emojiSelectPopoverGroupList",emojiSelectPopoverGroupItem:"emojiSelectPopoverGroupItem",emojiSelectPopoverToneSelect:"emojiSelectPopoverToneSelect",emojiSelectPopoverToneSelectList:"emojiSelectPopoverToneSelectList",emojiSelectPopoverToneSelectItem:"emojiSelectPopoverToneSelectItem",emojiSelectPopoverEntry:"emojiSelectPopoverEntry",emojiSelectPopoverEntryFocused:"emojiSelectPopoverEntryFocused",emojiSelectPopoverEntryIcon:"emojiSelectPopoverEntryIcon",emojiSelectPopoverNav:"emojiSelectPopoverNav",emojiSelectPopoverNavItem:"emojiSelectPopoverNavItem",emojiSelectPopoverNavEntry:"emojiSelectPopoverNavEntry",emojiSelectPopoverNavEntryActive:"emojiSelectPopoverNavEntryActive",emojiSelectPopoverScrollbar:"emojiSelectPopoverScrollbar",emojiSelectPopoverScrollbarThumb:"emojiSelectPopoverScrollbarThumb",emoji:"emoji",emojiSuggestionsEntry:"emojiSuggestionsEntry",emojiSuggestionsEntryFocused:"emojiSuggestionsEntryFocused",emojiSuggestionsEntryText:"emojiSuggestionsEntryText",emojiSuggestionsEntryIcon:"emojiSuggestionsEntryIcon",emojiSuggestions:"emojiSuggestions"},K={mention:"mention",mentionSuggestions:"mentionSuggestions",mentionSuggestionsEntry:"mentionSuggestionsEntry",mentionSuggestionsEntryFocused:"mentionSuggestionsEntryFocused",mentionSuggestionsEntryText:"mentionSuggestionsEntryText",mentionSuggestionsEntryAvatar:"mentionSuggestionsEntryAvatar"},V=o("WYo3"),J=o("H8m5"),X=function(e){var t=e.decoratorRect,o=e.popover,n=e.isRTL,i=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null}(o.parentElement),r={};if(i){r.scrollLeft=i.scrollLeft,r.scrollTop=i.scrollTop;var a=i.getBoundingClientRect();r.left=t.left-a.left,r.bottom=a.bottom-t.bottom+r.scrollTop+26}else r.scrollTop=window.pageYOffset||document.documentElement.scrollTop,r.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,r.top=t.top,r.left=t.left;return{left:r.left-(n?268:0)+"px",bottom:r.bottom+"px",width:"280px"}},H=o("mK0O"),$=o("dV/x"),Y=o("Lbhg"),Q=[".loading.jsx-3700024193{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:117px 0;}",".loading.mobile.jsx-3700024193{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding:22px 0 0 30px;}",".loading.mobile.jsx-3700024193 .text.jsx-3700024193{margin-top:0;margin-left:22px;line-height:16px;}",'.loading.jsx-3700024193 .text.jsx-3700024193{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;margin-top:16px;font-size:15px;line-height:18px;color:rgba(22,24,35,0.5);}','html[lang^="vi"] .loading.jsx-3700024193 .text.jsx-3700024193{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}',".error.jsx-3700024193{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:122px 0;}",".error.mobile.jsx-3700024193{padding:80px 0 0 0;}",".error.mobile.jsx-3700024193 .retry.jsx-3700024193{margin-top:8px;font-size:14px;line-height:17px;}",'.error.jsx-3700024193 .text.jsx-3700024193{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;font-size:17px;line-height:20px;color:rgba(22,24,35,0.5);}','html[lang^="vi"] .error.jsx-3700024193 .text.jsx-3700024193{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}','.error.jsx-3700024193 .retry.jsx-3700024193{margin-top:11px;font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;font-size:15px;line-height:18px;color:#fe2c55;cursor:pointer;}','html[lang^="vi"] .error.jsx-3700024193 .retry.jsx-3700024193{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}'];Q.__hash="3700024193";var Z=Q,ee=o("vZi2"),te=o("r1VH"),oe=o("hilu"),ne=o("ZCp7"),ie=[".mention-item-outside-wrapper.jsx-2472059103{box-sizing:content-box;padding:0 16px;}",".mention-item-outside-wrapper.jsx-2472059103:not(:last-child) .mention-item-inner-wrapper.jsx-2472059103{border-bottom:1px solid rgba(22,24,35,0.08);}",".mention-item-outside-wrapper.mobile.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103{border-bottom:none;padding:8px 0;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;padding:4px 0;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .avatar.jsx-2472059103{border-radius:100%;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103{overflow:hidden;-webkit-flex:1;-ms-flex:1;flex:1;margin-left:8px;}",".is-rtl .mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103{direction:rtl;margin-left:0;margin-right:8px;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.is-rtl.jsx-2472059103{direction:rtl;margin-left:0;margin-right:8px;}",'.mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:"proxima-semibold",PingFangSC,sans-serif;font-weight:600;font-size:14px;line-height:20px;}','html[lang^="vi"] .mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103{font-family:"IBM Plex Sans","proxima-semibold",PingFangSC,sans-serif;}',".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103 .nickname.jsx-2472059103{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103 .user-verified.jsx-2472059103{margin:0 4px;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103 .dot.jsx-2472059103{margin:0 4px 3px;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103 .dot.verified.jsx-2472059103{margin:0 4px 3px 0;}",".mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .first-line.jsx-2472059103 .follow-text.jsx-2472059103{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;font-size:12px;line-height:20px;color:rgba(22,24,35,0.5);}",'.mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .unique-id.jsx-2472059103{font-family:"proxima-regular",PingFangSC,sans-serif;font-weight:400;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;line-height:17px;}','html[lang^="vi"] .mention-item-outside-wrapper.jsx-2472059103 .mention-item-inner-wrapper.jsx-2472059103 .name-container.jsx-2472059103 .unique-id.jsx-2472059103{font-family:"IBM Plex Sans","proxima-regular",PingFangSC,sans-serif;}'];ie.__hash="2472059103";var re=ie,ae=p.a.createElement;function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Object(a.a)(this,o)}}var le=function(e){Object(r.a)(o,e);var t=se(o);function o(){var e;Object(n.a)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).context=void 0,e.itemRef=null,e.handleClick=function(){var t=e.props;(0,t.onMentionSelect)(t.mention)},e.handleMouseEnter=function(){var t=e.props,o=t.onMentionFocus,n=t.index;e.context.$isMobile||o&&o(n)},e}return Object(i.a)(o,[{key:"componentDidUpdate",value:function(e){var t,o=e.isFocused,n=this.props.isFocused;!o&&n&&(null===(t=this.itemRef)||void 0===t||t.scrollIntoView({block:"nearest"}))}},{key:"render",value:function(){var e=this,t=this.props,o=t.isFocused,n=t.theme,i=t.mention,r=i.avatarThumb,a=i.nickname,s=i.verified,l=i.uniqueId,u=i.relation,d=this.context.$isMobile,f=o?n.mentionSuggestionsEntryFocused:n.mentionSuggestionsEntry;return ae("div",{onMouseEnter:this.handleMouseEnter,onClick:this.handleClick,ref:function(t){e.itemRef=t},className:"jsx-".concat(re.__hash)+" "+(h()("mention-item-outside-wrapper",f,{mobile:d})||"")},ae(c.a,{id:re.__hash},re),ae("div",{className:"jsx-".concat(re.__hash)+" mention-item-inner-wrapper"},ae(ne.default,{className:"avatar",src:r,size:40}),ae("div",{className:"jsx-".concat(re.__hash)+" name-container"},ae("p",{className:"jsx-".concat(re.__hash)+" first-line"},ae("span",{className:"jsx-".concat(re.__hash)+" nickname"},a),s&&ae("div",{className:"jsx-".concat(re.__hash)+" user-verified"},ae(oe.a,{className:"user-verified",width:10,height:10})),0!==u&&ae(p.a.Fragment,null,ae("span",{className:"jsx-".concat(re.__hash)+" "+(h()("dot",{verified:s})||"")}," \xb7 "),ae("span",{className:"jsx-".concat(re.__hash)+" follow-text"},__("following_acc")))),ae("p",{className:"jsx-".concat(re.__hash)+" unique-id"},l))))}}]),o}(u.Component);le.contextType=ee.a;var ce=function(e,t,o,n,i){var r=e.getCurrentContent().getPlainText().length,a=e.getSelection(),s=Object(te.d)(e,a,n),l=s.begin,c=s.end,u=r-(c-l)+1+t.nickname.length+1,p=e.getCurrentContent().createEntity(Object(te.e)(n),i,{mention:t}).getLastCreatedEntityKey(),f=a.merge({anchorOffset:l,focusOffset:c}),m=d.Modifier.replaceText(e.getCurrentContent(),f,"".concat(o).concat(t.nickname),null,p);if(m=d.Modifier.insertText(m,m.getSelectionAfter()," "),u>150){var h=f.merge({anchorOffset:150,focusOffset:u});m=d.Modifier.replaceText(m,h,"")}var g=d.EditorState.push(e,m,"insert-mention");return d.EditorState.forceSelection(g,m.getSelectionAfter())},ue=p.a.createElement;function pe(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function de(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(o),!0).forEach((function(t){Object(H.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):pe(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Object(a.a)(this,o)}}var me=function(e){Object(r.a)(o,e);var t=fe(o);function o(e){var i;return Object(n.a)(this,o),(i=t.call(this,e)).popoverRef=null,i.key=null,i.activeOffsetKey=null,i.lastSelectionIsInsideWord=void 0,i.lastSearchValue="",i.context=void 0,i.state={focusedOptionIndex:-1},i.onEditorStateChange=function(e){var t=i.props,o=t.store,n=t.mentionTrigger,r=t.open,a=t.suggestions,s=t.onChange,l=o.getAllSearches(),c=e.getSelection(),u=c.getAnchorKey(),p=c.getAnchorOffset();if(s&&s(p),0===l.size)return e;var d=function(){return o.resetEscapedSearch(),i.closeDropdown(),e},f=l.map((function(e){return Object(te.a)(e)})).filter((function(e){return e.blockKey===u})).map((function(t){var o=t.blockKey,n=t.decoratorKey;return e.getBlockTree(o).getIn([n])}));if(f.every((function(e){return void 0===e})))return d();var m=e.getCurrentContent().getPlainText(),h=f.filter((function(e){return void 0!==e})).map((function(e){var t=e.start,o=e.end;return 0===t&&p===n.length&&m.charAt(p)!==n&&new RegExp(n,"g").test(m)&&p<=o||p>t+n.length&&p<=o||p===t+n.length&&p===o}));if(h.every((function(e){return!1===e})))return d();var g=i.activeOffsetKey;return i.activeOffsetKey=h.filter((function(e){return!0===e})).keySeq().first(),i.onSearchChange(e,c,i.activeOffsetKey,g),o.isEscaped(i.activeOffsetKey)||o.resetEscapedSearch(),!r&&!o.isEscaped(i.activeOffsetKey)&&a.length>0&&i.openDropdown(),void 0!==i.lastSelectionIsInsideWord&&h.equals(i.lastSelectionIsInsideWord)||i.setState({focusedOptionIndex:-1}),i.lastSelectionIsInsideWord=h,e},i.onSearchChange=function(e,t,o,n){var r=i.props,a=r.onSearchChange,s=r.mentionTrigger,l=Object(te.d)(e,t,s).matchingString;" "!==e.getCurrentContent().getPlainText()&&(i.lastSearchValue&&i.lastSearchValue===l&&o===n||(i.lastSearchValue=l,a&&a({value:l})))},i.onDownArrow=function(e){var t=i.props,o=t.suggestions,n=t.isLoop;e.preventDefault();var r=i.state.focusedOptionIndex+1,a=1;a=n?r>=o.length?0:r:r>=o.length?r-1:r,i.onMentionFocus(a)},i.onTab=function(e){e.preventDefault(),i.commitSelection()},i.onUpArrow=function(e){var t=i.props,o=t.suggestions,n=t.isLoop;if(e.preventDefault(),o.length>0){var r=i.state.focusedOptionIndex-1,a=1;a=n?r<0?o.length-1:r:r<0?0:r,i.onMentionFocus(a)}},i.onEscape=function(e){var t=i.props.store;e.preventDefault();var o=i.lastSelectionIsInsideWord.filter((function(e){return!0===e})).keySeq().first();t.escapeSearch(o),i.closeDropdown(),t.setEditorState(t.getEditorState())},i.onMentionSelect=function(e){if(e){var t=i.props,o=t.onAddMention,n=t.mentionPrefix,r=t.mentionTrigger,a=t.entityMutability,s=t.store;o&&o(e),i.closeDropdown();var l=ce(s.getEditorState(),e,n,r,a);s.unregister(i.activeOffsetKey),s.setEditorState(l)}},i.onMentionFocus=function(e){var t=i.props,o=t.store,n=t.ariaProps,r="mention-option-".concat(i.key,"-").concat(e);n.ariaActiveDescendantID=r,i.setState({focusedOptionIndex:e}),o.setEditorState(o.getEditorState())},i.commitSelection=function(){var e=i.props,t=e.store,o=e.suggestions,n=i.state.focusedOptionIndex;return t.getIsOpened()?(i.onMentionSelect(o[n]),"handled"):"not-handled"},i.openDropdown=function(){var e=i.props,t=e.ariaProps,o=e.callbacks,n=e.onOpenChange,r=i.state.focusedOptionIndex;o.handleReturn=i.commitSelection,o.keyBindingFn=function(e){40===e.keyCode&&i.onDownArrow(e),38===e.keyCode&&i.onUpArrow(e),27===e.keyCode&&i.onEscape(e),9===e.keyCode&&i.onTab(e)};var a="mention-option-".concat(i.key,"-").concat(r);t.ariaActiveDescendantID=a,t.ariaOwneeID="mentions-list-".concat(i.key),t.ariaHasPopup="true",t.ariaExpanded=!0,n(!0)},i.closeDropdown=function(){var e=i.props,t=e.callbacks,o=e.ariaProps,n=e.onOpenChange;t.handleReturn=void 0,t.keyBindingFn=void 0,o.ariaHasPopup="false",o.ariaExpanded=!1,o.ariaActiveDescendantID=void 0,o.ariaOwneeID=void 0,n(!1)},i.retry=function(e){var t=i.props.onSearchChange;t&&t({value:i.lastSearchValue,isImmediate:!0}),e.stopPropagation()},i.renderMain=function(){var e=i.props,t=e.suggestions,o=e.theme,n=e.isLoading,r=e.isError,a=i.state.focusedOptionIndex,s=i.context.$isMobile;return n?ue("div",{className:"jsx-".concat(Z.__hash)+" "+(h()("loading",{mobile:s})||"")},ue(c.a,{id:Z.__hash},Z),ue(Y.a,{size:s?16:26,fill:"rgba(22, 24, 35, 0.5)"}),ue("p",{className:"jsx-".concat(Z.__hash)+" text"},__("comment_at_search"),"...")):r?ue("div",{className:"jsx-".concat(Z.__hash)+" "+(h()("error",{mobile:s})||"")},ue(c.a,{id:Z.__hash},Z),ue("p",{className:"jsx-".concat(Z.__hash)+" text"},__("comment_at_load")),ue("p",{onClick:i.retry,className:"jsx-".concat(Z.__hash)+" retry"},__("comment_at_tryagain"))):t.map((function(e,t){return ue(le,{key:null!==e.id?e.id:e.name,onMentionSelect:i.onMentionSelect,onMentionFocus:i.onMentionFocus,isFocused:a===t,mention:e,index:t,id:"mention-option-".concat(i.key,"-").concat(t),theme:o,searchValue:i.lastSearchValue})}))},i.key=Object(d.genKey)(),i.props.callbacks.onChange=i.onEditorStateChange,i}return Object(i.a)(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.suggestions!==this.props.suggestions&&this.setState({focusedOptionIndex:-1}),e.suggestions.length||!this.props.open||e.isLoading||e.isError||this.closeDropdown()}},{key:"componentDidUpdate",value:function(e){var t=this,o=this.context,n=o.$isMobile,i=o.$isRTL;if(this.popoverRef){var r=this.props.suggestions.length;if(r>0&&this.state.focusedOptionIndex>=r&&this.setState({focusedOptionIndex:r-1}),!this.props.store.getAllSearches().has(this.activeOffsetKey))return;var a=this.props.store.getPortalClientRect(this.activeOffsetKey);if(!n){var s=this.props.positionSuggestions({decoratorRect:a,prevProps:e,props:this.props,popover:this.popoverRef,isRTL:i});Object.keys(s).forEach((function(e){t.popoverRef.style[e]=s[e]}))}}}},{key:"componentWillUnmount",value:function(){this.props.callbacks.onChange=void 0}},{key:"render",value:function(){var e=this,t=this.props,o=t.popoverComponent,n=(t.positionSuggestions,t.suggestions,t.theme),i=t.open,r=(t.isLoading,t.isError,t.onOpenChange),a=Object($.a)(t,["popoverComponent","positionSuggestions","suggestions","theme","open","isLoading","isError","onOpenChange"]),s=this.context.$isRTL;return i?p.a.cloneElement(o,de(de({},a),{},{className:n.mentionSuggestions+(s?" is-rtl":""),role:"listbox",id:"mentions-list-".concat(this.key),ref:function(t){e.popoverRef=t;var n=o.ref;"function"===typeof n&&n(t)},onClick:function(e){e.preventDefault(),e.stopPropagation()},onPortalClick:function(){r(!1)}}),this.renderMain()):null}}]),o}(u.Component);me.contextType=ee.a;var he=o("Fcif"),ge=o("uklt"),ve=o.n(ge),je=o("bHUE"),be=p.a.createElement,xe=p.a.forwardRef((function(e,t){var o=e.pageStart,n=e.loadFunc,i=e.children,r=e.hasMore,a=e.loader,s=e.initialLoad,l=e.useWindow,c=e.onPortalClick,u=e.isMobile,d=Object($.a)(e,["pageStart","loadFunc","children","hasMore","loader","initialLoad","useWindow","onPortalClick","isMobile"]);return u?be(p.a.Fragment,null,be("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent",zIndex:-1},onClick:function(){c()}}),be("div",Object(he.a)({className:"scroll-container",ref:t},d),be(ve.a,{pageStart:o,loadMore:n,hasMore:r,loader:a,useWindow:l,initialLoad:s},i))):be(je.a,{visible:!0,style:{background:"transparent"},onClick:c},be("div",Object(he.a)({className:"scroll-container",ref:t},d),be(ve.a,{pageStart:o,loadMore:n,hasMore:r,loader:a,useWindow:l,initialLoad:s},i)))}));xe.displayName="InfiContainer",xe.defaultProps={pageStart:0,useWindow:!1,initialLoad:!1,loader:be("div",{className:"loader",key:0})};var ye=xe,Se=o("xhqg"),we=o("qftd"),_e=o("YV6R"),Pe=o("OSs+"),Ee=o("08uX"),ke=o.n(Ee),Oe="".concat("[\\w-\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u0148\u014a-\u017f\u0410-\u044f\u3040-\u309f\u30a0-\u30ff\u3130-\u318f\uac00-\ud7a3\u4e00-\u9eff\u0600-\u06ff\u08a0-\u08ff\u0e00-\u0e7f!-/;-~\xa1-\xbf\uf300-\uf5ff").concat(ke.a.unicodeRegexp,"]*"),Ce="".concat(Oe,"|@").concat(Oe),Te=o("9bu8"),Me=o("i+dG"),Re=p.a.createElement;function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Object(a.a)(this,o)}}var Ie=function(e){Object(r.a)(o,e);var t=Ne(o);function o(e){var i;return Object(n.a)(this,o),(i=t.call(this,e)).context=void 0,i.editorOutsideRef=null,i.editorRef=null,i.addedMentionList=[],i.defaultMentionList=[],i.cursor=0,i.searchValue="",i.searchTimer=null,i.EmojiSelect=void 0,i.MentionSuggestions=void 0,i.emojiPlugin=void 0,i.mentionPlugin=void 0,i.isFirstLoadMention=!0,i.rid="",i.offset=0,i.initEditor=function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent),t=O()({theme:W,useNativeArt:!0,selectGroups:[{title:"",icon:"\ud83d\ude0a",categories:["people"]}],isCloseWhenSelectEmoji:!e,limit:150}),o=t.EmojiSelect;i.emojiPlugin=t,i.EmojiSelect=o;var n=E()({theme:K,mentions:[],entityMutability:"IMMUTABLE",mentionPrefix:"@",mentionTrigger:"@",supportWhitespace:!0,mentionRegExp:Ce,mentionSuggestionsComponent:me,positionSuggestions:X}),r=n.MentionSuggestions;i.mentionPlugin=n,i.MentionSuggestions=r},i.delNeedlessEmoji=function(){var e=Array.prototype.slice.call(document.getElementsByClassName("emojiSelectPopoverGroupItem"),93),t=document.getElementsByClassName("emojiSelectPopoverGroupList")[0];e.forEach((function(e){t.removeChild(e)}))},i.loadInitMentions=Object(S.a)(y.a.mark((function e(){var t,o,n,r,a,s,l,c,u;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,o=!1,i.setState({isMentionLoading:!0,isMentionError:!1}),e.next=5,Se.a.getRecentContact({count:50},{});case 5:return n=e.sent,r=n.statusCode,a=n.userList,0===r?(s=(a=a||[]).map((function(e){return e.user})),i.defaultMentionList=s,i.setState({mentionList:i.defaultMentionList})):t=!0,e.next=11,Se.a.getMentionDefaultList({count:50-i.defaultMentionList.length+1,cursor:0},{});case 11:l=e.sent,c=l.status_code,u=l.user_list,0===c?function(){for(var e=(u=u||[]).map((function(e){return Object(we.b)(e)})),t=function(t){i.defaultMentionList.some((function(o){var n;(null===o||void 0===o?void 0:o.id)===(null===(n=e[t])||void 0===n?void 0:n.id)&&(e.splice(t,1),t--)})),o=t},o=0;o<e.length;o++)t(o);i.defaultMentionList=i.defaultMentionList.concat(e),i.setState({mentionList:i.defaultMentionList})}():o=!0,t&&o?i.setState({isMentionLoading:!1,isMentionError:!0}):(i.setState({isMentionLoading:!1}),i.isFirstLoadMention=!1);case 16:case"end":return e.stop()}}),e)}))),i.onSearchChange=function(){var e=Object(S.a)(y.a.mark((function e(t){var o,n,r,a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.value,r=t.isImmediate,a=void 0!==r&&r,s=i.state.isMentionLoading,clearTimeout(null!==(o=i.searchTimer)&&void 0!==o?o:0),i.searchValue=n,i.cursor=0,i.rid="",""!==n){e.next=14;break}if(!i.isFirstLoadMention){e.next=11;break}return i.setState({isMentionSuggestionsShow:!0}),s||i.loadInitMentions(),e.abrupt("return");case 11:return i.setState({hasMore:!1,isMentionLoading:!1,isMentionError:!1}),Promise.resolve().then((function(){"@"===i.content[i.content.length-1]&&150!==i.content.length&&i.setState({isMentionSuggestionsShow:!!i.defaultMentionList.length}),i.setState({mentionList:i.defaultMentionList})})),e.abrupt("return");case 14:a?(i.setState({mentionList:[]}),i.searchUser()):i.searchTimer=window.setTimeout((function(){i.setState({mentionList:[]}),i.searchUser()}),1e3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.insert=function(e){if(!(e.length+i.content.length>150)){var t=i.props.editorState,o=t.getCurrentContent(),n=t.getSelection();o=d.Modifier.insertText(o,n,e);var r=d.EditorState.push(t,o,"insert-characters");V.a.dispatch(J.a.updateEditorState({editorState:r})),i.setState({editorStates:r});var a=r.getCurrentContent().getPlainText().trimLeft().length;i.setState({wordNum:a}),i.handleWordNumChange(a),setTimeout((function(){i.focus()}))}},i.handleChange=function(e){var t=i.props.onInputChange,o=e.getSelection().getAnchorOffset(),n=e.getCurrentContent().getPlainText().trimLeft().length;if(i.offset!==o&&i.offset===n){var r=d.EditorState.moveSelectionToEnd(e);r=d.EditorState.moveFocusToEnd(r),V.a.dispatch(J.a.updateEditorState({editorState:r})),i.setState({editorStates:r})}else V.a.dispatch(J.a.updateEditorState({editorState:e})),i.setState({editorStates:e});setTimeout((function(){t(i.content),i.handleWordLimit()}))},i.handleWordLimit=function(){var e=i.props.editorState,t=i.state.wordLimitVisible;if(i.editorOutsideRef){var o,n=+(null===(o=getComputedStyle(i.editorOutsideRef,null))||void 0===o?void 0:o.height.slice(0,-2)),r=i.content.length;if(r)if(r>150){var a=d.EditorState.push(e,d.ContentState.createFromText(i.content.slice(0,150)));a=d.EditorState.moveSelectionToEnd(a),a=d.EditorState.moveFocusToEnd(a),V.a.dispatch(J.a.updateEditorState({editorState:a})),i.setState({wordNum:150,editorStates:a}),r=150}else i.setState({wordNum:r});i.handleWordNumChange(r),n>18&&!t?i.setState({wordLimitVisible:!0}):n<=50&&t&&i.setState({wordLimitVisible:!1})}},i.handleWordNumChange=function(e){i.context.$isMobile&&e>=150&&(g.a.destroy(),g.a.open({content:__("comment_input_limit"),duration:3}))},i.handleAtIconClick=function(){var e,t=i.props,o=t.author,n=t.vid;i.insert("@"),Pe.a.event(_e.c.SEARCH_COMMENT_AT,{enter_method:"button",group_id:n,author_id:null!==(e=null===o||void 0===o?void 0:o.id)&&void 0!==e?e:""})},i.focus=function(){i.editorRef.focus()},i.searchMoreMention=function(){i.searchUser(!0)},i.searchUser=Object(S.a)(y.a.mark((function e(){var t,o,n,r,a,s,l,c,u,p,d,f,m=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=m.length>0&&void 0!==m[0]&&m[0])||i.setState({isMentionLoading:!0,isMentionSuggestionsShow:!0,isMentionError:!1}),o=i.context,n=o.$wid,r=o.$language,e.next=5,Se.a.searchUser({keyword:i.searchValue,type:1,cursor:i.cursor,count:30,search_source:"comment_user",device_id:n,app_language:Object(Te.b)(r),rid:i.rid},{});case 5:if(a=e.sent,s=a.status_code,l=a.user_list,c=a.has_more,u=a.cursor,p=a.rid,""!==i.searchValue){e.next=13;break}return e.abrupt("return");case 13:0===s||s===Me.c||s===Me.d?(l=l||[],d=i.state.mentionList,f=l.map((function(e){return Object(we.b)(e.user_info)})),i.cursor=u,i.rid=p,""===i.content?i.setState({isMentionSuggestionsShow:!1}):i.setState({hasMore:!!c,mentionList:d.concat(f),isMentionSuggestionsShow:t||!!l.length,isMentionLoading:!1})):i.setState({hasMore:!1,isMentionLoading:!1,isMentionError:!0});case 14:case"end":return e.stop()}}),e)}))),i.onAddMention=function(e){var t,o=i.props,n=o.vid,r=o.author;i.editorRef.focus(),i.addedMentionList.push(e),Pe.a.event(_e.c.ADD_COMMENT_AT,{group_id:n,author_id:null!==(t=null===r||void 0===r?void 0:r.id)&&void 0!==t?t:"",to_user_id:e.id})},i.handleOpenChange=function(e){i.setState({isMentionSuggestionsShow:e}),!e&&i.searchValue&&i.setState({hasMore:!0})},i.keyBindingFn=function(e){return 8===e.keyCode?i.handleBackspace(e):13===e.keyCode?"post":void 0},i.handleBackspace=function(e){var t=i.props.replyInfo;return i.content===Object(te.c)(null===t||void 0===t?void 0:t.username)?"clear":Object(d.getDefaultKeyBinding)(e)},i.handleKeyCommand=function(e){var t=i.props,o=t.editorState,n=t.onPost,r=i.state.isMentionSuggestionsShow,a=i.context.$isMobile;if("clear"===e){var s=d.EditorState.push(o,d.ContentState.createFromText(""));return s=d.EditorState.moveSelectionToEnd(s),s=d.EditorState.moveFocusToEnd(s),V.a.dispatch(J.a.reply({replyInfo:null})),V.a.dispatch(J.a.updateEditorState({editorState:s})),i.setState({editorStates:s}),"handled"}return"post"!==e||a?"not-handled":(r||n&&n({enterMethod:"input"}),"handled")},i.handleEmojiOpen=function(){var e=i.props.onEmojiOpen,t=document.getElementsByClassName("tiktok-tooltip");Array.prototype.slice.call(t).some((function(e){if(e.getElementsByClassName("tiktok-tooltip-inner")[0].innerText===__("comment_tray_emoji"))return e.style.display="none",!0})),i.setState({isEmojiVisible:!0}),e&&e()},i.handleEmojiClose=function(){var e=i.props.onEmojiClose,t=document.getElementsByClassName("tiktok-tooltip");Array.prototype.slice.call(t).some((function(e){if(e.getElementsByClassName("tiktok-tooltip-inner")[0].innerText===__("comment_tray_emoji"))return setTimeout((function(){e.style.display=""}),300),!0})),i.setState({isEmojiVisible:!1}),e&&e()},i.handleEmojiSelect=function(e){var t=i.context.$isMobile,o=i.props.vid;t&&setTimeout((function(){i.editorRef.blur()})),Pe.a.event(_e.c.SEARCH_COMMENT_EMOJI,{emoji_code:e,group_id:o})},i.handleFocus=function(){var e=i.props.onFocus;i.setState({isEditorFocus:!0}),e&&e()},i.handleBlur=function(){var e=i.props,t=e.onBlur,o=e.vid;i.setState({isEditorFocus:!1}),Pe.a.event(_e.c.CLOSE_TEXT,{group_id:o}),t&&t()},i.handleBeforeInput=function(e){var t,o=i.props,n=o.author,r=o.vid;if(150===i.content.length)return"handled";"@"===e&&Pe.a.event(_e.c.SEARCH_COMMENT_AT,{enter_method:"input",group_id:r,author_id:null!==(t=null===n||void 0===n?void 0:n.id)&&void 0!==t?t:""})},i.handlePastedText=function(e,t,o){var n=o.getCurrentContent().getPlainText().trimLeft().length+e.length-150;if(n>0)return i.insert(e.slice(0,e.length-n)),setTimeout((function(){i.handleWordLimit()})),"handled"},i.emojiDelete=function(){var e=i.props.editorState,t=1;Object(te.f)(i.content.slice(-2))&&(t=2);var o=d.EditorState.push(e,d.ContentState.createFromText(i.content.slice(0,-t)));o=d.EditorState.moveSelectionToEnd(o),o=d.EditorState.moveFocusToEnd(o),V.a.dispatch(J.a.updateEditorState({editorState:o})),i.setState({editorStates:o})},i.handleSelectButtonClick=function(e){e||setTimeout((function(){i.editorRef.focus()}),100)},i.handleClick=function(){Pe.a.event(_e.c.ENTER_TEXT,{group_id:i.props.vid})},i.onChange=function(e){i.offset=e},i.renderDelete=function(){return Re(p.a.Fragment,null,Re(c.a,{id:L.__hash},L),Re("div",{onClick:i.emojiDelete,className:"jsx-".concat(L.__hash)+" delete-icon"}))},i.state={mentionList:[],hasMore:!1,isMentionSuggestionsShow:!1,isEditorFocus:!1,wordLimitVisible:!1,wordNum:0,isEmojiVisible:!1,isMentionLoading:!0,isMentionError:!1,editorStates:d.EditorState.createEmpty()},i.initEditor(),i}return Object(i.a)(o,[{key:"componentDidMount",value:function(){this.delNeedlessEmoji(),this.loadInitMentions()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,o=this.context.$isMobile;if(!e.replyInfo&&this.props.replyInfo);else if(e.replyInfo&&e.replyInfo!==this.props.replyInfo)if(o)setTimeout((function(){var e=d.EditorState.push(t.props.editorState,d.ContentState.createFromText(""));e=d.EditorState.moveSelectionToEnd(e),e=d.EditorState.moveFocusToEnd(e),V.a.dispatch(J.a.updateEditorState({editorState:e})),t.setState({editorStates:e})}),0),this.focus();else{var n=d.EditorState.push(this.props.editorState,d.ContentState.createFromText(""));V.a.dispatch(J.a.updateEditorState({editorState:n})),this.setState({editorStates:n}),Promise.resolve().then((function(){var o;t.insert(Object(te.c)(null===(o=e.replyInfo)||void 0===o?void 0:o.username))}))}e.editorState!==this.props.editorState&&(""===e.editorState.getCurrentContent().getPlainText()&&this.setState({wordLimitVisible:!1,isMentionSuggestionsShow:!1}),this.setState({editorStates:e.editorState}))}},{key:"render",value:function(){var e=this,t=this.props,o=(t.editorState,t.placeholder),n=this.context,i=n.$isMobile,r=(n.$language,n.$isRTL),a=this.state,s=a.editorStates,l=a.mentionList,u=a.hasMore,d=a.isMentionSuggestionsShow,f=a.isEditorFocus,m=a.wordLimitVisible,g=a.wordNum,v=(a.isEmojiVisible,a.isMentionLoading),j=a.isMentionError,b=this.MentionSuggestions,x=this.EmojiSelect,y=this.mentionPlugin,S=this.emojiPlugin;return Re("div",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" "+(h()("comment-input-inner-wrapper",{focus:f,mobile:i})||"")},Re(c.a,{id:L.__hash},L),Re(c.a,{id:U.__hash},U),Re(c.a,{id:A.__hash},A),Re("div",{ref:function(t){e.editorOutsideRef=t},onClick:this.handleClick,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" editor"},Re(_.a,{editorState:s,placeholder:o,plugins:[y,S],stripPastedStyles:!0,ref:function(t){e.editorRef=t},onChange:this.handleChange,keyBindingFn:this.keyBindingFn,handleKeyCommand:this.handleKeyCommand,handleBeforeInput:this.handleBeforeInput,handlePastedText:this.handlePastedText,onFocus:this.handleFocus,onBlur:this.handleBlur}),i?Re(p.a.Fragment,null,Re("div",{onClick:this.handleAtIconClick,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" at-icon"}),Re("div",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" emoji-container"},Re(x,{externalComponent:this.renderDelete,onOpen:this.handleEmojiOpen,onClose:this.handleEmojiClose,onEmojiSelect:this.handleEmojiSelect,onSelectButtonClick:this.handleSelectButtonClick,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)}))):Re(p.a.Fragment,null,Re(C.a,{isRTL:r,overlay:__("comment_tray_at"),placement:"top"},Re("div",{onClick:this.handleAtIconClick,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" at-icon"})),Re(C.a,{isRTL:r,overlay:__("comment_tray_emoji"),placement:"top"},Re("div",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" emoji-container"},Re(x,{onOpen:this.handleEmojiOpen,onClose:this.handleEmojiClose,onEmojiSelect:this.handleEmojiSelect,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)})))),Re(b,{open:d,isLoading:v,isError:j,suggestions:l,popoverComponent:Re(ye,{isMobile:i,loadFunc:this.searchMoreMention,hasMore:u}),positionSuggestions:X,onSearchChange:this.onSearchChange,onAddMention:this.onAddMention,onOpenChange:this.handleOpenChange,onChange:this.onChange,className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)}),!i&&m&&Re("div",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" "+(h()("word-num-container",{warn:g>=150})||"")},r?Re(p.a.Fragment,null,Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" max-num"},150),Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" split"},"/"),Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" num"},g)):Re(p.a.Fragment,null,Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" num"},g),Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" split"},"/"),Re("span",{className:"jsx-".concat(L.__hash," jsx-").concat(U.__hash," jsx-").concat(A.__hash)+" max-num"},150)))))}},{key:"content",get:function(){return this.props.editorState.getCurrentContent().getPlainText().trimLeft()}}]),o}(u.Component);Ie.contextType=ee.a;var Le=Object(f.b)((function(e){return{editorState:e.comment.editorState,replyInfo:e.comment.replyInfo}}))(Ie),De=o("zM4u"),Ae=p.a.createElement;function Be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(s.a)(e);if(t){var i=Object(s.a)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Object(a.a)(this,o)}}var Fe=Object(f.b)((function(e,t){return{editorState:e.comment.editorState,replyInfo:e.comment.replyInfo,videoCount:e.videoCount[t.id]}}),{updateVideoComment:De.a.updateVideoComment}),Ge=function(e){Object(r.a)(o,e);var t=Be(o);function o(){var e;Object(n.a)(this,o);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={isPostEnable:!e.isContentEmpty,portalVisible:!1,placeholder:__("comment_tray_default")},e.isPosting=!1,e.context=void 0,e.handleBeforeUnload=function(){var t=e.props,o=t.editorState,n=t.id;if(""!==o.getCurrentContent().getPlainText())return Pe.a.event(_e.c.CLOSE_COMMENT,{group_id:n}),__("comment_tray_exit_title")},e.postCommentByClick=function(){e.postComment({enterMethod:"button"})},e.postComment=function(t){var o,n=t.enterMethod,i=void 0===n?"button":n,r=e.props,a=r.id,s=r.editorState,l=r.replyInfo,c=r.videoCount,u=r.author,p=r.updateVideoComment,f=r.onPost,m=e.state.isPostEnable,h=e.context,v=h.$csrfToken,j=h.$isMobile,b=h.$wid;if(m&&!e.isPosting){e.isPosting=!0;var x=s.getCurrentContent().getPlainText().trimLeft(),y={aweme_id:a,text:x,text_extra:[],device_id:b},S=Object(te.c)(null!==(o=null===l||void 0===l?void 0:l.username)&&void 0!==o?o:"");l&&(j||0===x.indexOf(S))&&(y.text=x.replace(S,""),y.reply_id=l.replyId,y.reply_to_reply_id=l.replyToReplyId),j&&e.setState({portalVisible:!1});var w=Object(d.convertToRaw)(s.getCurrentContent()).entityMap;w.length=Object.keys(w).length;var _=Array.from(w).filter((function(e){return"mention"===e.type})).map((function(e){return e.data.mention}));if(_.length){var P=[],E={};_.map((function(e){var t=e.nickname,o={start:0,end:0,user_id:e.id,type:3},n=1;E[t]?E[t]++:E[t]=1,y.text.replace(new RegExp("@"+e.nickname,"g"),(function(e,i){return n===E[t]&&(o.start=i),n++,e})),o.end=o.start+e.nickname.length+1,P.push(o)})),y.text_extra=JSON.stringify(P)}var k=j?{}:{width:"560px"};Se.a.publishComment(y,{},null!==v&&void 0!==v?v:"").then((function(t){if(0===(null===t||void 0===t?void 0:t.status_code)){var o,n,r;g.a.destroy(),g.a.open({content:l?__("comment_reply_success"):__("comment_post_success"),duration:3,style:k}),f(t.comment),V.a.dispatch(J.a.addComment({addedCommentInfo:t.comment}));var m=d.EditorState.push(s,d.ContentState.createFromText(""));m=d.EditorState.moveSelectionToEnd(m),m=d.EditorState.moveFocusToEnd(m),V.a.dispatch(J.a.updateEditorState({editorState:m})),V.a.dispatch(J.a.reply({replyInfo:null})),p({vid:a,count:(null!==(o=null===c||void 0===c?void 0:c.commentCount)&&void 0!==o?o:0)+1}),Pe.a.event(_e.c.POST_COMMENT,{author_id:null!==(n=null===u||void 0===u?void 0:u.id)&&void 0!==n?n:"",group_id:a,comment_category:l?"0"===l.replyToReplyId?"reply":"reply_to_reply":"original",comment_id:null===(r=t.comment)||void 0===r?void 0:r.cid,enter_method:i}),e.setState({isPostEnable:!1})}else(null===t||void 0===t?void 0:t.status_code)===Me.a?(g.a.destroy(),g.a.open({content:__("comment_banned_toast"),duration:3,style:k})):(null===t||void 0===t?void 0:t.status_code)?(g.a.destroy(),g.a.open({content:__("comment_post_failed"),duration:3,style:k})):(g.a.destroy(),g.a.open({content:__("comment_nointernet_toast"),duration:3,style:k}));e.isPosting=!1}))}},e.handleInputChange=function(t){var o,n=e.props.replyInfo,i=e.state.isPostEnable,r=Object(te.c)(null!==(o=null===n||void 0===n?void 0:n.username)&&void 0!==o?o:"");""===t?e.setState({isPostEnable:!1}):n&&0===t.indexOf(r)?t.trim()+" "===r?e.setState({isPostEnable:!1}):e.setState({isPostEnable:!0}):i||e.setState({isPostEnable:!0})},e.handleFocus=function(){e.context.$isMobile&&e.setState({portalVisible:!0})},e.handleEmojiOpen=function(){var t=e.context.$isMobile,o=e.props.onEmojiOpen;t&&e.setState({portalVisible:!0}),o&&o()},e.handlePortalClick=function(t){e.props.replyInfo&&e.isContentEmpty&&(e.setState({placeholder:__("comment_tray_default")}),V.a.dispatch(J.a.reply({replyInfo:null}))),t.stopPropagation(),e.setState({portalVisible:!1})},e}return Object(i.a)(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.context.$isMobile;if(!e.replyInfo&&this.props.replyInfo)t&&this.setState({placeholder:__("comment_tray_default")});else if(e.replyInfo&&e.replyInfo!==this.props.replyInfo){var o;if(t)this.setState({placeholder:Object(te.c)(null===(o=e.replyInfo)||void 0===o?void 0:o.username)})}}},{key:"componentDidMount",value:function(){window.onbeforeunload=this.handleBeforeUnload}},{key:"componentWillUnmount",value:function(){var e=this.props.editorState;window.onbeforeunload=null,V.a.dispatch(J.a.updateEditorState({editorState:d.EditorState.push(e,d.ContentState.createFromText(""))}))}},{key:"render",value:function(){var e,t=this.props,o=t.author,n=t.id,i=t.onEmojiClose,r=this.context,a=r.$user,s=r.$isMobile,l=this.state,u=l.isPostEnable,d=l.portalVisible,f=l.placeholder,m=Object(te.b)(o,a);return Ae(p.a.Fragment,null,Ae("div",{className:"jsx-".concat(b.__hash)+" "+(h()("comment-post-inner-wrapper",{mobile:s})||"")},Ae(c.a,{id:b.__hash},b),m?Ae("div",{className:"jsx-".concat(b.__hash)+" disable-text"},__("comment_disable_notfollow").replace("%@",null!==(e=null===o||void 0===o?void 0:o.nickname)&&void 0!==e?e:"")):Ae(p.a.Fragment,null,Ae("div",{className:"jsx-".concat(b.__hash)+" comment-input-outside-container"},Ae(Le,{author:o,vid:n,placeholder:f,onInputChange:this.handleInputChange,onFocus:this.handleFocus,onPost:this.postComment,onEmojiOpen:this.handleEmojiOpen,onEmojiClose:i})),!s&&Ae("div",{onClick:this.postCommentByClick,className:"jsx-".concat(b.__hash)+" "+(h()("post-container",{active:u})||"")},__("comment_tray_btn")),s&&u&&Ae("div",{onClick:this.postCommentByClick,className:"jsx-".concat(b.__hash)+" "+(h()("post-container")||"")}))),d&&Ae("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, .2)",zIndex:1},onClick:this.handlePortalClick}))}},{key:"isContentEmpty",get:function(){return""===this.props.editorState.getCurrentContent().getPlainText().trim()}}]),o}(u.Component);Ge.contextType=ee.a;t.default=Fe(Ge)},"3kU/":function(e,t,o){var n=o("2wRU"),i=o("TsNJ"),r=o("DhoL"),a=r&&r.isTypedArray,s=a?i(a):n;e.exports=s},"6iN7":function(e,t,o){var n=o("HIoB"),i=o("lYsT"),r=o("PqlX"),a=o("tfj2"),s=o("q+I6"),l=o("3kU/"),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var o=r(e),u=!o&&i(e),p=!o&&!u&&a(e),d=!o&&!u&&!p&&l(e),f=o||u||p||d,m=f?n(e.length,String):[],h=m.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,h))||m.push(g);return m}},"83dH":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){if(e.indexOf("-")>-1){for(var t=[],o=e.split("-"),n=0;n<o.length;n++){var i=parseInt(o[n],16);if(i>=65536&&i<=1114111){var r=Math.floor((i-65536)/1024)+55296,a=(i-65536)%1024+56320;i=String.fromCharCode(r)+String.fromCharCode(a)}else i=String.fromCharCode(i);t.push(i)}return t.join("")}if((o=parseInt(e,16))>=65536&&o<=1114111){r=Math.floor((o-65536)/1024)+55296,a=(o-65536)%1024+56320;return String.fromCharCode(r)+String.fromCharCode(a)}return String.fromCharCode(o)}},"8kRQ":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o("0UP8"),r=(n=i)&&n.__esModule?n:{default:n};t.default=function(e,t){var o=t.getAnchorKey(),n=t.getAnchorOffset()-1,i=e.getCurrentContent().getBlockForKey(o).getText();return(0,r.default)(i,n)}},AR2t:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach((function(o){var n=e[o];if("modifier"!==n.category){t[n.category]||(t[n.category]={});var i=o.match(/(.*?)_tone(.*?)$/);if(i)!!t[n.category][i[1]]&&(t[n.category][i[1]][i[2]]=n.shortname);else t[n.category][o]=[n.shortname]}})),t}},AXs3:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=u(i),a=u(o("W0B4")),s=u(o("08uX")),l=u(o("cWNU")),c=u(o("83dH"));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,o,n;p(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.state={isFocused:!1},n.onMouseUp=function(){n.mouseDown&&(n.mouseDown=!1,n.props.onEmojiSelect(n.props.emoji))},n.onMouseDown=function(){n.mouseDown=!0,n.props.onEmojiMouseDown(n,n.props.toneSet)},n.onMouseEnter=function(){n.props.checkMouseDown()||n.setState({isFocused:!0})},n.onMouseLeave=function(){n.props.checkMouseDown()||n.setState({isFocused:!1})},n.deselect=function(){n.setState({isFocused:!1})},n.mouseDown=n.props.mouseDown,d(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this,t=this.props,o=t.cacheBustParam,n=t.imagePath,i=t.imageType,a=t.theme,u=void 0===a?{}:a,p=t.emoji,d=t.useNativeArt,f=this.state.isFocused,m=null;if(!0===d){var h=l.default.list[p][0];m=(0,c.default)(h)}else{var g=""+n+s.default.emojioneList[p].unicode[s.default.emojioneList[p].unicode.length-1]+"."+i+o;m=r.default.createElement("img",{src:g,className:u.emojiSelectPopoverEntryIcon,draggable:!1,role:"presentation"})}return r.default.createElement("button",{type:"button",className:f?u.emojiSelectPopoverEntryFocused:u.emojiSelectPopoverEntry,onMouseDown:this.onMouseDown,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseUp:this.onMouseUp,ref:function(t){e.button=t}},m)}}]),t}(i.Component);f.propTypes={cacheBustParam:a.default.string.isRequired,imagePath:a.default.string.isRequired,imageType:a.default.string.isRequired,theme:a.default.object.isRequired,emoji:a.default.string.isRequired,mouseDown:a.default.bool,checkMouseDown:a.default.func.isRequired,onEmojiSelect:a.default.func.isRequired,onEmojiMouseDown:a.default.func,useNativeArt:a.default.bool},f.defaultProps={mouseDown:!1},t.default=f},CJHP:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o("JX0s"),r=(n=i)&&n.__esModule?n:{default:n};var a=/(\s|^):[\w]*/g;t.default=function(e,t){(0,r.default)(a,e,t)}},DhoL:function(e,t,o){(function(e){var n=o("FfeU"),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===i&&n.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,o("FtQO")(e))},EuQ9:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),o=t.getBlockMap(),r=t;if(o.forEach((function(e){var t=e.getText();(0,i.default)(s,e,(function(o,i){var a=e.getEntityAt(o);if(a){var s=r.getEntity(a);if(s&&"emoji"===s.get("type"))return}var l=n.SelectionState.createEmpty(e.getKey()).set("anchorOffset",o).set("focusOffset",i),c=t.substring(o,i),u=r.createEntity("emoji","IMMUTABLE",{emojiUnicode:c}).getLastCreatedEntityKey();r=n.Modifier.replaceText(r,l,c,null,u)}))})),!r.equals(t))return n.EditorState.push(e,r,"convert-to-immutable-emojis");return e};var n=o("O0Ep"),i=a(o("JX0s")),r=a(o("08uX"));function a(e){return e&&e.__esModule?e:{default:e}}var s=new RegExp(r.default.unicodeRegexp,"g")},"Gu+j":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o("mXGw")),i=a(o("PDtE")),r=a(o("08uX"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.theme,o=void 0===t?{}:t,a=e.cacheBustParam,s=e.imagePath,l=e.imageType,c=e.className,u=e.decoratedText,p=e.useNativeArt,d=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(e,["theme","cacheBustParam","imagePath","imageType","className","decoratedText","useNativeArt"]),f=r.default.toShort(u),m=null;if(!0===p)m=n.default.createElement("span",{title:r.default.toShort(u)},d.children);else{var h="url("+s+r.default.emojioneList[f].unicode[r.default.emojioneList[f].unicode.length-1]+"."+l+a+")",g=(0,i.default)(o.emoji,c);m=n.default.createElement("span",{className:g,title:r.default.toShort(u),style:{backgroundImage:h}},d.children)}return m}},HIoB:function(e,t){e.exports=function(e,t){for(var o=-1,n=Array(e);++o<e;)n[o]=t(o);return n}},Lalj:function(e,t,o){var n=o("jL4t"),i=o("MQuF"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var o in Object(e))r.call(e,o)&&"constructor"!=o&&t.push(o);return t}},MQuF:function(e,t,o){var n=o("SHde")(Object.keys,Object);e.exports=n},NTCQ:function(e,t){e.exports="https://sf16-scmcdn-sg.ibytedtos.com/goofy/tiktok/web/node/_next/static/images/send-2b1b2a04bf09f2741055aad56837ff0f.svg"},Nfwa:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("mXGw"),a=u(r),s=u(o("W0B4")),l=o("CkPy"),c=u(o("uez7"));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,o,n;p(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.state={activeGroup:0},n.onScroll=function(e){var t=n.props,o=t.groups,i=t.onGroupScroll,r=0;o.forEach((function(t,o){e.scrollTop>=t.top&&(r=o,n.setState({activeGroup:r}))})),i(r)},n.onWheel=function(e){var t=n.scrollbars.getValues(),o=t.clientHeight,i=t.scrollHeight,r=t.scrollTop;e.deltaY>0?r<i-o-e.deltaY?e.stopPropagation():n.scrollbars.scrollToBottom():r>-e.deltaY?e.stopPropagation():n.scrollbars.scrollTop()},n.scrollToGroup=function(e){var t=n.props.groups;n.scrollbars.scrollTop(t[e].topList)},n.calculateBounds=function(){var e=n.scrollbars.getValues(),t=e.scrollHeight,o=e.scrollTop;if(t){var i=n.props.groups,r=n.container.getBoundingClientRect().top-o;i.forEach((function(e){var t=e.instance.container.getBoundingClientRect().top,o=e.instance.list.getBoundingClientRect().top;e.top=t-r,e.topList=o-r}))}},n.isRenderedGroupActive=function(e){var t=n.state.activeGroup,o=n.props.isOpen;return t===e||o&&t+1===e},d(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.calculateBounds()}},{key:"componentDidUpdate",value:function(){this.calculateBounds()}},{key:"render",value:function(){var e=this,t=this.props,o=t.cacheBustParam,i=t.imagePath,r=t.imageType,s=t.theme,u=void 0===s?{}:s,p=t.groups,d=void 0===p?[]:p,f=t.emojis,m=t.checkMouseDown,h=t.onEmojiSelect,g=t.onEmojiMouseDown,v=t.useNativeArt,j=t.externalComponent;return a.default.createElement("div",{className:u.emojiSelectPopoverGroups,onWheel:this.onWheel,ref:function(t){e.container=t}},a.default.createElement(l.Scrollbars,{onScrollFrame:this.onScroll,renderTrackVertical:function(){return a.default.createElement("div",{className:u.emojiSelectPopoverScrollbar})},renderThumbVertical:function(e){return a.default.createElement("div",n({},e,{className:u.emojiSelectPopoverScrollbarThumb}))},ref:function(t){e.scrollbars=t}},d.map((function(t,n){return a.default.createElement(c.default,{key:"group#"+n+"["+t.categories.join(",")+"]",theme:u,group:t,emojis:f,imagePath:i,imageType:r,cacheBustParam:o,checkMouseDown:m,onEmojiSelect:h,onEmojiMouseDown:g,ref:function(e){t.instance=e},useNativeArt:v,isActive:e.isRenderedGroupActive(n)})}))),j&&a.default.createElement(j))}}]),t}(r.Component);f.propTypes={cacheBustParam:s.default.string.isRequired,imagePath:s.default.string.isRequired,imageType:s.default.string.isRequired,theme:s.default.object.isRequired,groups:s.default.arrayOf(s.default.object).isRequired,emojis:s.default.object.isRequired,checkMouseDown:s.default.func.isRequired,onEmojiSelect:s.default.func.isRequired,onEmojiMouseDown:s.default.func.isRequired,onGroupScroll:s.default.func.isRequired,useNativeArt:s.default.bool,isOpen:s.default.bool},t.default=f},NgK5:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=c(i),a=c(o("08uX")),s=c(o("cWNU")),l=c(o("83dH"));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onMouseUp=function(){o.mouseDown&&(o.mouseDown=!1,o.props.onEmojiSelect(o.props.emoji))},o.onMouseDown=function(e){e.preventDefault(),o.mouseDown=!0},o.onMouseEnter=function(){o.props.onEmojiFocus(o.props.index)},o.mouseDown=!1,o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidUpdate",value:function(){this.mouseDown=!1}},{key:"render",value:function(){var e=this.props,t=e.theme,o=void 0===t?{}:t,n=e.imagePath,i=e.imageType,c=e.cacheBustParam,u=e.useNativeArt,p=e.isFocused,d=e.id,f=p?o.emojiSuggestionsEntryFocused:o.emojiSuggestionsEntry,m=null;if(!0===u){var h=s.default.list[this.props.emoji][0];m=(0,l.default)(h)}else{var g=""+n+a.default.emojioneList[this.props.emoji].unicode[a.default.emojioneList[this.props.emoji].unicode.length-1]+"."+i+c;m=r.default.createElement("img",{src:g,className:o.emojiSuggestionsEntryIcon,role:"presentation"})}return r.default.createElement("div",{className:f,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,role:"option",id:d,"aria-selected":p?"true":null},m,r.default.createElement("span",{className:o.emojiSuggestionsEntryText},this.props.emoji))}}]),t}(i.Component);t.default=u},NmMy:function(e,t){e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=Array(n);++o<n;)i[o]=t(e[o],o,e);return i}},PbUr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],n=!0,i=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(o.push(a.value),!t||o.length!==t);n=!0);}catch(l){i=!0,r=l}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.split("-"),o=n(t,3),i=o[0],r=o[1],a=o[2];return{blockKey:i,decoratorKey:parseInt(r,10),leafKey:parseInt(a,10)}}},PcD0:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(o("JX0s")),i=r(o("08uX"));function r(e){return e&&e.__esModule?e:{default:e}}var a=new RegExp(i.default.unicodeRegexp,"g");t.default=function(e,t){(0,n.default)(a,e,t)}},PqlX:function(e,t){var o=Array.isArray;e.exports=o},Q0zz:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(o("mXGw")),i=d(o("V0Bk")),r=d(o("/PV+")),a=d(o("lMeJ")),s=d(o("TidS")),l=d(o("h+Ux")),c=d(o("E1yY")),u=d(o("cpCV")),p=d(o("1rIk"));function d(e){return e&&e.__esModule?e:{default:e}}var f=[{title:"People",icon:n.default.createElement(i.default,{style:{verticalAlign:""}}),categories:["people"]},{title:"Nature",icon:n.default.createElement(r.default,{style:{verticalAlign:""}}),categories:["nature"]},{title:"Food & Drink",icon:n.default.createElement(a.default,{style:{verticalAlign:""}}),categories:["food"]},{title:"Activity",icon:n.default.createElement(s.default,{style:{verticalAlign:""}}),categories:["activity"]},{title:"Travel & Places",icon:n.default.createElement(l.default,{style:{verticalAlign:""}}),categories:["travel"]},{title:"Objects",icon:n.default.createElement(c.default,{style:{verticalAlign:""}}),categories:["objects"]},{title:"Symbols",icon:n.default.createElement(u.default,{style:{verticalAlign:""}}),categories:["symbols"]},{title:"Flags",icon:n.default.createElement(p.default,{style:{verticalAlign:""}}),categories:["flags"]}];t.default=f},QIh0:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("mXGw"),a=(n=r)&&n.__esModule?n:{default:n};var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.searchPortalRef=function(e){o.searchPortal=e},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.store.register(this.props.offsetKey),this.updatePortalClientRect(this.props),this.props.setEditorState(this.props.getEditorState())}},{key:"componentWillReceiveProps",value:function(e){this.updatePortalClientRect(e)}},{key:"componentWillUnmount",value:function(){this.props.store.unregister(this.props.offsetKey)}},{key:"updatePortalClientRect",value:function(e){var t=this;this.props.store.updatePortalClientRect(e.offsetKey,(function(){return t.searchPortal.getBoundingClientRect()}))}},{key:"render",value:function(){return a.default.createElement("span",{className:this.key,ref:this.searchPortalRef},this.props.children)}}]),t}(r.Component);t.default=s},RqPZ:function(e,t,o){var n=o("GI0s"),i=o("9aUh");e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},S1aI:function(e,t){e.exports="https://sf16-scmcdn-sg.ibytedtos.com/goofy/tiktok/web/node/_next/static/images/keyboard-c26819792095fe965a10589b291e77f1.svg"},SHde:function(e,t){e.exports=function(e,t){return function(o){return e(t(o))}}},SyCk:function(e,t,o){var n=o("RqPZ"),i=o("ckUF");e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},TsNJ:function(e,t){e.exports=function(e){return function(t){return e(t)}}},UgeB:function(e,t,o){var n=o("GI0s"),i=o("T9Ud");e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},VCzv:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=s(i),a=s(o("W0B4"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,o,n;l(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.onMouseDown=function(){n.mouseDown=!0},n.onMouseUp=function(){n.mouseDown&&(n.mouseDown=!1,n.props.onGroupSelect(n.props.groupIndex))},n.mouseDown=!1,c(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.props,t=e.theme,o=void 0===t?{}:t,n=e.icon,i=e.isActive;return r.default.createElement("button",{className:i?o.emojiSelectPopoverNavEntryActive:o.emojiSelectPopoverNavEntry,onMouseDown:this.onMouseDown,type:"button",onMouseUp:this.onMouseUp},n)}}]),t}(i.Component);u.propTypes={theme:a.default.object.isRequired,icon:a.default.oneOfType([a.default.element,a.default.string]).isRequired,groupIndex:a.default.number.isRequired,isActive:a.default.bool,onGroupSelect:a.default.func.isRequired},u.defaultProps={isActive:!1},t.default=u},"a/8U":function(e,t){e.exports="https://sf16-scmcdn-sg.ibytedtos.com/goofy/tiktok/web/node/_next/static/images/delete-48490a554327c21f40cf97eea69522af.svg"},bGP9:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("mXGw"),a=f(r),s=o("O0Ep"),l=f(o("NgK5")),c=o("ckww"),u=f(c),p=f(o("8kRQ")),d=f(o("PbUr"));function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=function(e){function t(){var e,o,n;m(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.state={isActive:!1,focusedOptionIndex:0},n.componentDidUpdate=function(e,t){if(n.popover){var o=n.filteredEmojis.size;o>0&&n.state.focusedOptionIndex>=o&&n.setState({focusedOptionIndex:o-1}),o<=0&&n.closeDropdown();var i=n.props.store.getPortalClientRect(n.activeOffsetKey),r=n.props.positionSuggestions({decoratorRect:i,prevProps:e,prevState:t,props:n.props,state:n.state,filteredEmojis:n.filteredEmojis,popover:n.popover});Object.keys(r).forEach((function(e){n.popover.style[e]=r[e]}))}},n.componentWillUnmount=function(){n.props.callbacks.onChange=void 0},n.onEditorStateChange=function(e){var t=n.props.store.getAllSearches();if(0===t.size)return e;var o=function(){return n.props.store.resetEscapedSearch(),n.closeDropdown(),e},i=e.getSelection(),r=i.getAnchorKey(),a=i.getAnchorOffset();if(!i.isCollapsed()||!i.getHasFocus())return o();var s=t.map((function(e){return(0,d.default)(e)})).filter((function(e){return e.blockKey===r})).map((function(t){var o=t.blockKey,n=t.decoratorKey,i=t.leafKey;return e.getBlockTree(o).getIn([n,"leaves",i])}));if(s.every((function(e){return void 0===e})))return o();var l=e.getCurrentContent().getPlainText(),c=s.filter((function(e){return void 0!==e})).map((function(e){var t=e.start,o=e.end;return 0===t&&1===a&&":"!==l.charAt(a)&&/(\s|^):[\w]*/.test(l)&&a<=o||a>t+1&&a<=o}));return c.every((function(e){return!1===e}))?o():(n.activeOffsetKey=c.filter((function(e){return!0===e})).keySeq().first(),n.onSearchChange(e,i),n.props.store.isEscaped(n.activeOffsetKey)||n.props.store.resetEscapedSearch(),n.state.isActive||n.props.store.isEscaped(n.activeOffsetKey)||n.openDropdown(),void 0!==n.lastSelectionIsInsideWord&&c.equals(n.lastSelectionIsInsideWord)||n.setState({focusedOptionIndex:0}),n.lastSelectionIsInsideWord=c,e)},n.onSearchChange=function(e,t){var o=(0,p.default)(e,t).word,i=o.substring(1,o.length);n.lastSearchValue!==i&&"function"===typeof n.props.onSearchChange&&(n.lastSearchValue=i,n.props.onSearchChange({value:i}))},n.onDownArrow=function(e){e.preventDefault();var t=n.state.focusedOptionIndex+1;n.onEmojiFocus(t>=n.filteredEmojis.size?0:t)},n.onTab=function(e){e.preventDefault(),n.commitSelection()},n.onUpArrow=function(e){if(e.preventDefault(),n.filteredEmojis.size>0){var t=n.state.focusedOptionIndex-1;n.onEmojiFocus(Math.max(t,0))}},n.onEscape=function(e){e.preventDefault();var t=n.lastSelectionIsInsideWord.filter((function(e){return!0===e})).keySeq().first();n.props.store.escapeSearch(t),n.closeDropdown(),n.props.store.setEditorState(n.props.store.getEditorState())},n.onEmojiSelect=function(e){n.closeDropdown();var t=(0,u.default)(n.props.store.getEditorState(),e,c.Mode.REPLACE);n.props.store.setEditorState(t)},n.onEmojiFocus=function(e){var t="emoji-option-"+n.key+"-"+e;n.props.ariaProps.ariaActiveDescendantID=t,n.setState({focusedOptionIndex:e}),n.props.store.setEditorState(n.props.store.getEditorState())},n.getEmojisForFilter=function(){var e=n.props.store.getEditorState().getSelection(),t=(0,p.default)(n.props.store.getEditorState(),e).word,o=t.substring(1,t.length).toLowerCase(),i=n.props.shortNames.filter((function(e){return!o||e.indexOf(o)>-1})),r=i.size<9?i.size:9;return i.setSize(r)},n.commitSelection=function(){return n.onEmojiSelect(n.filteredEmojis.get(n.state.focusedOptionIndex)),"handled"},n.openDropdown=function(){n.props.callbacks.handleReturn=n.commitSelection,n.props.callbacks.keyBindingFn=function(e){40===e.keyCode&&n.onDownArrow(e),38===e.keyCode&&n.onUpArrow(e),27===e.keyCode&&n.onEscape(e),9===e.keyCode&&n.onTab(e)};var e="emoji-option-"+n.key+"-"+n.state.focusedOptionIndex;n.props.ariaProps.ariaActiveDescendantID=e,n.props.ariaProps.ariaOwneeID="emojis-list-"+n.key,n.props.ariaProps.ariaHasPopup="true",n.props.ariaProps.ariaExpanded=!0,n.setState({isActive:!0}),n.props.onOpen&&n.props.onOpen()},n.closeDropdown=function(){n.props.callbacks.keyBindingFn=void 0,n.props.callbacks.handleReturn=void 0,n.props.ariaProps.ariaHasPopup="false",n.props.ariaProps.ariaExpanded=!1,n.props.ariaProps.ariaActiveDescendantID=void 0,n.props.ariaProps.ariaOwneeID=void 0,n.setState({isActive:!1}),n.props.onClose&&n.props.onClose()},h(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillMount",value:function(){this.key=(0,s.genKey)(),this.props.callbacks.onChange=this.onEditorStateChange}},{key:"render",value:function(){var e=this;if(!this.state.isActive)return null;this.filteredEmojis=this.getEmojisForFilter();var t=this.props,o=t.theme,i=void 0===o?{}:o,r=t.cacheBustParam,s=t.imagePath,c=t.imageType,u=(t.ariaProps,t.callbacks,t.onClose,t.onOpen,t.onSearchChange,t.positionSuggestions,t.shortNames,t.store,t.useNativeArt),p=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,["theme","cacheBustParam","imagePath","imageType","ariaProps","callbacks","onClose","onOpen","onSearchChange","positionSuggestions","shortNames","store","useNativeArt"]);return a.default.createElement("div",n({},p,{className:i.emojiSuggestions,role:"listbox",id:"emojis-list-"+this.key,ref:function(t){e.popover=t}}),this.filteredEmojis.map((function(t,o){return a.default.createElement(l.default,{key:t,onEmojiSelect:e.onEmojiSelect,onEmojiFocus:e.onEmojiFocus,isFocused:e.state.focusedOptionIndex===o,emoji:t,index:o,id:"emoji-option-"+e.key+"-"+o,theme:i,imagePath:s,imageType:c,cacheBustParam:r,useNativeArt:u})})).toJS())}}]),t}(r.Component);t.default=g},cWNU:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=o("08uX"),a=(n=r)&&n.__esModule?n:{default:n};var s={};s.setPriorityList=function(e){s.list=function(e){var t={};for(var o in a.default.emojioneList)e.hasOwnProperty(o)||(t[o]=a.default.emojioneList[o].unicode);return i({},e,t)}(e)};s.setPriorityList({":thumbsup:":["1f44d"],":smile:":["1f604"],":heart:":["2764-fe0f","2764"],":ok_hand:":["1f44c"],":joy:":["1f602"],":tada:":["1f389"],":see_no_evil:":["1f648"],":raised_hands:":["1f64c"],":100:":["1f4af"]}),t.default=s},ckUF:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},ckww:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=void 0;var n=o("O0Ep"),i=s(o("8kRQ")),r=s(o("cWNU")),a=s(o("83dH"));function s(e){return e&&e.__esModule?e:{default:e}}var l={INSERT:"INSERT",REPLACE:"REPLACE"};t.default=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.INSERT,s=r.default.list[t][0],c=(0,a.default)(s),u=e.getCurrentContent(),p=u.createEntity("emoji","IMMUTABLE",{emojiUnicode:c}),d=p.getLastCreatedEntityKey(),f=e.getSelection(),m=void 0;switch(o){case l.INSERT:var h=n.Modifier.removeRange(u,f,"backward"),g=h.getSelectionAfter();m=n.Modifier.insertText(h,g,c,null,d),g.getAnchorOffset();var v=g.getAnchorKey();u.getBlockForKey(v).getLength();break;case l.REPLACE:var j=(0,i.default)(e,f),b=j.begin,x=j.end,y=f.merge({anchorOffset:b,focusOffset:x});m=n.Modifier.replaceText(u,y,c,null,d),x;var S=y.getAnchorKey();u.getBlockForKey(S).getLength();break;default:throw new Error('Unidentified value of "mode"')}var w=n.EditorState.push(e,m,"insert-emoji");return n.EditorState.forceSelection(w,m.getSelectionAfter())},t.Mode=l},h0av:function(e,t,o){var n=o("6iN7"),i=o("Lalj"),r=o("SyCk");e.exports=function(e){return r(e)?n(e):i(e)}},jKF0:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.decoratorRect,o=e.popover,n=e.state,i=e.filteredEmojis,r=function e(t){return t?"static"!==window.getComputedStyle(t).getPropertyValue("position")?t:e(t.parentElement):null}(o.parentElement),a={};if(r){a.scrollLeft=r.scrollLeft,a.scrollTop=r.scrollTop;var s=r.getBoundingClientRect();a.left=t.left-s.left,a.top=t.top-s.top}else a.scrollTop=window.pageYOffset||document.documentElement.scrollTop,a.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,a.top=t.top,a.left=t.left;var l=a.left+a.scrollLeft,c=a.top+a.scrollTop,u=void 0,p=void 0;return n.isActive&&(i.size>0?(u="scale(1)",p="all 0.25s cubic-bezier(.3,1.2,.2,1)"):(u="scale(0)",p="all 0.35s cubic-bezier(.3,1,.2,1)")),{left:l+"px",top:c+"px",transform:u,transformOrigin:"1em 0%",transition:p}}},jL4t:function(e,t){var o=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}},jPE3:function(e,t){e.exports="https://sf16-scmcdn-sg.ibytedtos.com/goofy/tiktok/web/node/_next/static/images/emoji-a0ddc869161818193cc05545d7331255.svg"},lNap:function(e,t){e.exports="https://sf16-scmcdn-sg.ibytedtos.com/goofy/tiktok/web/node/_next/static/images/at-8880650b336ed2a1698fdf976c2bef40.svg"},lYsT:function(e,t,o){var n=o("UgeB"),i=o("T9Ud"),r=Object.prototype,a=r.hasOwnProperty,s=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},"q+I6":function(e,t){var o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}},"sRs/":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=p(i),a=p(o("W0B4")),s=p(o("ckww")),l=p(o("Nfwa")),c=p(o("uHHn")),u=p(o("xuGk"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){var e,o,n;d(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={activeGroup:0,showToneSelect:!1},n.onMouseDown=function(){n.mouseDown=!0},n.onMouseUp=function(){n.mouseDown=!1,n.activeEmoji&&(n.activeEmoji.deselect(),n.activeEmoji=null,n.state.showToneSelect?n.closeToneSelect():n.toneSelectTimer&&(clearTimeout(n.toneSelectTimer),n.toneSelectTimer=null))},n.onWheel=function(e){return e.preventDefault()},n.onEmojiSelect=function(e){var t=!n.props.limit||n.props.store.getEditorState().getCurrentContent().getPlainText().length<=n.props.limit-2;if(t){var o=(0,s.default)(n.props.store.getEditorState(),e);n.props.store.setEditorState(o)}n.props.onEmojiSelect&&n.props.onEmojiSelect(e,t),n.props.isCloseWhenSelectEmoji&&n.props.closePopover()},n.onEmojiMouseDown=function(e,t){n.activeEmoji=e,t&&n.openToneSelectWithTimer(t)},n.onGroupSelect=function(e){n.groups.scrollToGroup(e)},n.onGroupScroll=function(e){e!==n.state.activeGroup&&n.setState({activeGroup:e})},n.openToneSelectWithTimer=function(e){n.toneSelectTimer=setTimeout((function(){n.toneSelectTimer=null,n.openToneSelect(e)}),n.props.toneSelectOpenDelay)},n.openToneSelect=function(e){n.toneSet=e,n.setState({showToneSelect:!0})},n.closeToneSelect=function(){n.toneSet=[],n.setState({showToneSelect:!1})},n.checkMouseDown=function(){return n.mouseDown},n.mouseDown=!1,n.activeEmoji=null,n.toneSet=[],n.toneSelectTimer=null,n.renderToneSelect=function(){if(n.state.showToneSelect){var e=n.props,t=e.cacheBustParam,o=e.imagePath,i=e.imageType,a=e.theme,s=void 0===a?{}:a,l=n.container.getBoundingClientRect(),c=n.groups.container.getBoundingClientRect(),p=n.activeEmoji.button.getBoundingClientRect(),d={areaBounds:{left:c.left-l.left,right:l.right-c.right,top:c.top-l.top,bottom:l.bottom-c.bottom,width:c.width,height:c.width},entryBounds:{left:p.left-l.left,right:l.right-p.right,top:p.top-l.top,bottom:l.bottom-p.bottom,width:p.width,height:p.width}};return r.default.createElement(u.default,{theme:s,bounds:d,toneSet:n.toneSet,imagePath:o,imageType:i,cacheBustParam:t,onEmojiSelect:n.onEmojiSelect})}return null},f(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){window.addEventListener("mouseup",this.onMouseUp)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=this,t=this.props,o=t.cacheBustParam,n=t.imagePath,i=t.imageType,a=t.theme,s=void 0===a?{}:a,u=t.groups,p=void 0===u?[]:u,d=t.emojis,f=t.isOpen,m=void 0!==f&&f,h=t.useNativeArt,g=t.externalComponent,v=m?s.emojiSelectPopover:s.emojiSelectPopoverClosed,j=this.state.activeGroup;return r.default.createElement("div",{className:v,onMouseDown:this.onMouseDown,onWheel:this.onWheel,ref:function(t){e.container=t}},r.default.createElement("h3",{className:s.emojiSelectPopoverTitle},p[j].title),r.default.createElement(l.default,{theme:s,groups:p,emojis:d,imagePath:n,imageType:i,cacheBustParam:o,checkMouseDown:this.checkMouseDown,onEmojiSelect:this.onEmojiSelect,onEmojiMouseDown:this.onEmojiMouseDown,onGroupScroll:this.onGroupScroll,ref:function(t){e.groups=t},useNativeArt:h,isOpen:m,externalComponent:g}),r.default.createElement(c.default,{theme:s,groups:p,activeGroup:j,onGroupSelect:this.onGroupSelect}),this.renderToneSelect())}}]),t}(i.Component);m.propTypes={cacheBustParam:a.default.string.isRequired,imagePath:a.default.string.isRequired,imageType:a.default.string.isRequired,theme:a.default.object.isRequired,store:a.default.object.isRequired,groups:a.default.arrayOf(a.default.object).isRequired,emojis:a.default.object.isRequired,toneSelectOpenDelay:a.default.number.isRequired,isOpen:a.default.bool,useNativeArt:a.default.bool,limit:a.default.number},m.defaultProps={isOpen:!1},t.default=m},tfj2:function(e,t,o){(function(e){var n=o("s3UK"),i=o("1ezk"),r=t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===r?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,o("FtQO")(e))},uHHn:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o("mXGw")),i=a(o("W0B4")),r=a(o("VCzv"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.theme,o=void 0===t?{}:t,i=e.groups,a=e.activeGroup,s=e.onGroupSelect;return n.default.createElement("ul",{className:o.emojiSelectPopoverNav},i.map((function(e,t){return n.default.createElement("li",{key:"nav-group#"+t+"["+e.categories.join(",")+"]",className:o.emojiSelectPopoverNavItem},n.default.createElement(r.default,{theme:o,groupIndex:t,isActive:t===a,icon:e.icon,onGroupSelect:s}))})))};s.propTypes={theme:i.default.object.isRequired,groups:i.default.arrayOf(i.default.object).isRequired,activeGroup:i.default.number.isRequired,onGroupSelect:i.default.func.isRequired},t.default=s},uez7:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=l(i),a=l(o("W0B4")),s=l(o("AXs3"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=function(e){function t(){var e,o,n;c(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={hasRenderedEmoji:!1},n.shouldComponentUpdate=function(e){return!n.state.hasRenderedEmoji&&e.isActive},n.renderCategory=function(e){var t=n.props,o=t.cacheBustParam,i=t.imagePath,a=t.imageType,l=t.theme,c=void 0===l?{}:l,u=t.emojis,p=t.checkMouseDown,d=t.onEmojiSelect,f=t.onEmojiMouseDown,m=t.useNativeArt,h=t.isActive,g=u[e];return Object.keys(g).map((function(e){return r.default.createElement("li",{key:g[e][0],className:c.emojiSelectPopoverGroupItem},h&&r.default.createElement(s.default,{emoji:g[e][0],theme:c,imagePath:i,imageType:a,cacheBustParam:o,toneSet:g[e].length>1?g[e]:null,checkMouseDown:p,onEmojiSelect:d,onEmojiMouseDown:f,useNativeArt:m}))}))},u(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidUpdate",value:function(){this.props.isActive&&this.setState({hasRenderedEmoji:!0})}},{key:"render",value:function(){var e=this,t=this.props,o=t.theme,n=void 0===o?{}:o,i=t.group;return r.default.createElement("section",{className:n.emojiSelectPopoverGroup,ref:function(t){e.container=t}},r.default.createElement("h3",{className:n.emojiSelectPopoverGroupTitle},i.title),r.default.createElement("ul",{className:n.emojiSelectPopoverGroupList,ref:function(t){e.list=t}},i.categories.map((function(t){return e.renderCategory(t)}))))}}]),t}(i.Component);p.propTypes={cacheBustParam:a.default.string.isRequired,imagePath:a.default.string.isRequired,imageType:a.default.string.isRequired,theme:a.default.object.isRequired,group:a.default.object.isRequired,emojis:a.default.object.isRequired,checkMouseDown:a.default.func.isRequired,onEmojiSelect:a.default.func.isRequired,onEmojiMouseDown:a.default.func.isRequired,useNativeArt:a.default.bool,isActive:a.default.bool},t.default=p},uklt:function(e,t,o){e.exports=o("viua")},viua:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=s(i),a=s(o("W0B4"));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.scrollListener=o.scrollListener.bind(o),o.eventListenerOptions=o.eventListenerOptions.bind(o),o.mousewheelListener=o.mousewheelListener.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(o){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,o=this.getParentElement(e),n=void 0;if(this.props.useWindow){var i=document.documentElement||document.body.parentNode||document.body,r=void 0!==t.pageYOffset?t.pageYOffset:i.scrollTop;n=this.props.isReverse?r:this.calculateOffset(e,r)}else n=this.props.isReverse?o.scrollTop:e.scrollHeight-o.scrollTop-o.clientHeight;n<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=o.scrollHeight,this.beforeScrollTop=o.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),o=t.children,n=t.element,i=t.hasMore,a=(t.initialLoad,t.isReverse),s=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[o];return i&&(s?a?u.unshift(s):u.push(s):this.defaultLoader&&(a?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),r.default.createElement(n,c,u)}}]),t}(i.Component);l.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},xKX0:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=p(i),a=p(o("W0B4")),s=p(o("Xx/e")),l=p(o("AR2t")),c=p(o("Q0zz")),u=p(o("sRs/"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(0,l.default)(s.default),h=function(e){function t(){var e,o,n;d(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.state={isOpen:!1},n.onClick=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.onButtonMouseUp=function(){return n.state.isOpen?n.closePopover():n.openPopover()},n.openPopover=function(){n.state.isOpen||(n.setState({isOpen:!0}),n.props.onOpen&&n.props.onOpen())},n.closePopover=function(){n.state.isOpen&&(n.setState({isOpen:!1}),n.props.onClose&&n.props.onClose())},f(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.closePopover)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.closePopover)}},{key:"render",value:function(){var e=this.props,t=e.cacheBustParam,o=e.imagePath,n=e.imageType,i=e.theme,a=void 0===i?{}:i,s=e.store,l=e.selectGroups,c=e.selectButtonContent,p=e.toneSelectOpenDelay,d=e.useNativeArt,f=e.isCloseWhenSelectEmoji,h=e.limit,g=e.externalComponent,v=e.onEmojiSelect,j=e.onSelectButtonClick,b=this,x=this.state.isOpen?a.emojiSelectButtonPressed:a.emojiSelectButton;return r.default.createElement("div",{className:a.emojiSelect,onClick:this.onClick},r.default.createElement("button",{className:x,onMouseUp:this.onButtonMouseUp,type:"button",onClick:function(){j&&j(b.state.isOpen)}},c),r.default.createElement(u.default,{cacheBustParam:t,imagePath:o,imageType:n,theme:a,store:s,groups:l,emojis:m,toneSelectOpenDelay:p,isOpen:this.state.isOpen,useNativeArt:d,isCloseWhenSelectEmoji:f,limit:h,externalComponent:g,closePopover:this.closePopover,onEmojiSelect:v}))}}]),t}(i.Component);h.propTypes={cacheBustParam:a.default.string.isRequired,imagePath:a.default.string.isRequired,imageType:a.default.string.isRequired,theme:a.default.object.isRequired,store:a.default.object.isRequired,selectGroups:a.default.arrayOf(a.default.shape({title:a.default.string.isRequired,icon:a.default.oneOfType([a.default.element,a.default.string]).isRequired,categories:a.default.arrayOf(a.default.oneOf(Object.keys(m))).isRequired})),selectButtonContent:a.default.oneOfType([a.default.element,a.default.string]),toneSelectOpenDelay:a.default.number,useNativeArt:a.default.bool,isCloseWhenSelectEmoji:a.default.bool,limit:a.default.number},h.defaultProps={selectButtonContent:"\u263a",selectGroups:c.default,toneSelectOpenDelay:500,isCloseWhenSelectEmoji:!1},t.default=h},xuGk:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o("mXGw"),r=c(i),a=c(o("W0B4")),s=c(o("ZACY")),l=c(o("AXs3"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,o,n;u(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return o=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),n.setCorrectPosition=function(e,t){var o=n.tones.offsetWidth,i=n.tones.offsetHeight,r={marginLeft:0,left:t.left+t.width/2-o/2,bottom:t.bottom+t.height};r.left<e.left?(delete r.marginLeft,r.left=e.left):r.left>e.left+e.width-o&&(delete r.marginLeft,delete r.left,r.right=e.right),r.bottom>e.bottom+e.height-i&&(delete r.bottom,r.top=t.top+t.height),r=s.default.object(r),Object.keys(r).forEach((function(e){n.tones.style[e]=r[e]}))},p(n,o)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this.props.bounds,t=e.areaBounds,o=e.entryBounds;this.setCorrectPosition(t,o)}},{key:"render",value:function(){var e=this,t=this.props,o=t.cacheBustParam,n=t.imagePath,i=t.imageType,a=t.theme,s=void 0===a?{}:a,c=t.toneSet,u=void 0===c?[]:c,p=t.onEmojiSelect;return r.default.createElement("div",{className:s.emojiSelectPopoverToneSelect},r.default.createElement("ul",{className:s.emojiSelectPopoverToneSelectList,ref:function(t){e.tones=t}},u.map((function(e){return r.default.createElement("li",{key:"tone-select("+e+")",className:s.emojiSelectPopoverToneSelectItem},r.default.createElement(l.default,{emoji:e,theme:s,imagePath:n,imageType:i,cacheBustParam:o,checkMouseDown:function(){return!1},onEmojiSelect:p,mouseDown:!0}))}))))}}]),t}(i.Component);d.propTypes={cacheBustParam:a.default.string.isRequired,imagePath:a.default.string.isRequired,imageType:a.default.string.isRequired,theme:a.default.object.isRequired,bounds:a.default.shape({areaBounds:a.default.shape({left:a.default.number.isRequired,right:a.default.number.isRequired,top:a.default.number.isRequired,bottom:a.default.number.isRequired,width:a.default.number.isRequired,height:a.default.number.isRequired}).isRequired,entryBounds:a.default.shape({left:a.default.number.isRequired,right:a.default.number.isRequired,top:a.default.number.isRequired,bottom:a.default.number.isRequired,width:a.default.number.isRequired,height:a.default.number.isRequired}).isRequired}).isRequired,onEmojiSelect:a.default.func.isRequired},t.default=d},ySVI:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=y(o("mXGw")),r=o("FvK5"),a=y(o("h0av")),s=o("O0Ep"),l=y(o("Gu+j")),c=y(o("bGP9")),u=y(o("QIh0")),p=y(o("xKX0")),d=y(o("PcD0")),f=y(o("CJHP")),m=y({emoji:"draftJsEmojiPlugin__emoji__2oqBk"}),h=y({emojiSuggestions:"draftJsEmojiPlugin__emojiSuggestions__2ffcV"}),g=y({emojiSuggestionsEntry:"draftJsEmojiPlugin__emojiSuggestionsEntry__2-2p_",emojiSuggestionsEntryFocused:"draftJsEmojiPlugin__emojiSuggestionsEntryFocused__XDntY draftJsEmojiPlugin__emojiSuggestionsEntry__2-2p_",emojiSuggestionsEntryText:"draftJsEmojiPlugin__emojiSuggestionsEntryText__2sPjk",emojiSuggestionsEntryIcon:"draftJsEmojiPlugin__emojiSuggestionsEntryIcon__1qC2V"}),v=y({emojiSelect:"draftJsEmojiPlugin__emojiSelect__34S1B",emojiSelectButton:"draftJsEmojiPlugin__emojiSelectButton__3sPol",emojiSelectButtonPressed:"draftJsEmojiPlugin__emojiSelectButtonPressed__2Tezu",emojiSelectPopover:"draftJsEmojiPlugin__emojiSelectPopover__1J1s0",emojiSelectPopoverClosed:"draftJsEmojiPlugin__emojiSelectPopoverClosed__3Kxxq",emojiSelectPopoverTitle:"draftJsEmojiPlugin__emojiSelectPopoverTitle__3tpXz",emojiSelectPopoverGroups:"draftJsEmojiPlugin__emojiSelectPopoverGroups__35t9m",emojiSelectPopoverGroup:"draftJsEmojiPlugin__emojiSelectPopoverGroup__3zwcE",emojiSelectPopoverGroupTitle:"draftJsEmojiPlugin__emojiSelectPopoverGroupTitle__2pC51",emojiSelectPopoverGroupList:"draftJsEmojiPlugin__emojiSelectPopoverGroupList__HQ8_y",emojiSelectPopoverGroupItem:"draftJsEmojiPlugin__emojiSelectPopoverGroupItem__2pFOS",emojiSelectPopoverToneSelect:"draftJsEmojiPlugin__emojiSelectPopoverToneSelect__28bny",emojiSelectPopoverToneSelectList:"draftJsEmojiPlugin__emojiSelectPopoverToneSelectList__haFSJ",emojiSelectPopoverToneSelectItem:"draftJsEmojiPlugin__emojiSelectPopoverToneSelectItem__2SgvL",emojiSelectPopoverEntry:"draftJsEmojiPlugin__emojiSelectPopoverEntry__1ErDJ",emojiSelectPopoverEntryFocused:"draftJsEmojiPlugin__emojiSelectPopoverEntryFocused__M28XS",emojiSelectPopoverEntryIcon:"draftJsEmojiPlugin__emojiSelectPopoverEntryIcon__1yNaC",emojiSelectPopoverNav:"draftJsEmojiPlugin__emojiSelectPopoverNav__1Nzd7",emojiSelectPopoverNavItem:"draftJsEmojiPlugin__emojiSelectPopoverNavItem__qydCX",emojiSelectPopoverNavEntry:"draftJsEmojiPlugin__emojiSelectPopoverNavEntry__1OiGB",emojiSelectPopoverNavEntryActive:"draftJsEmojiPlugin__emojiSelectPopoverNavEntryActive__2j-Vk",emojiSelectPopoverScrollbar:"draftJsEmojiPlugin__emojiSelectPopoverScrollbar__1Xjc6",emojiSelectPopoverScrollbarThumb:"draftJsEmojiPlugin__emojiSelectPopoverScrollbarThumb__jGYdG"}),j=y(o("EuQ9")),b=y(o("jKF0")),x=y(o("cWNU"));function y(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={emoji:m.default.emoji,emojiSuggestions:h.default.emojiSuggestions,emojiSuggestionsEntry:g.default.emojiSuggestionsEntry,emojiSuggestionsEntryFocused:g.default.emojiSuggestionsEntryFocused,emojiSuggestionsEntryText:g.default.emojiSuggestionsEntryText,emojiSuggestionsEntryIcon:g.default.emojiSuggestionsEntryIcon,emojiSelect:v.default.emojiSelect,emojiSelectButton:v.default.emojiSelectButton,emojiSelectButtonPressed:v.default.emojiSelectButtonPressed,emojiSelectPopover:v.default.emojiSelectPopover,emojiSelectPopoverClosed:v.default.emojiSelectPopoverClosed,emojiSelectPopoverTitle:v.default.emojiSelectPopoverTitle,emojiSelectPopoverGroups:v.default.emojiSelectPopoverGroups,emojiSelectPopoverGroup:v.default.emojiSelectPopoverGroup,emojiSelectPopoverGroupTitle:v.default.emojiSelectPopoverGroupTitle,emojiSelectPopoverGroupList:v.default.emojiSelectPopoverGroupList,emojiSelectPopoverGroupItem:v.default.emojiSelectPopoverGroupItem,emojiSelectPopoverToneSelect:v.default.emojiSelectPopoverToneSelect,emojiSelectPopoverToneSelectList:v.default.emojiSelectPopoverToneSelectList,emojiSelectPopoverToneSelectItem:v.default.emojiSelectPopoverToneSelectItem,emojiSelectPopoverEntry:v.default.emojiSelectPopoverEntry,emojiSelectPopoverEntryFocused:v.default.emojiSelectPopoverEntryFocused,emojiSelectPopoverEntryIcon:v.default.emojiSelectPopoverEntryIcon,emojiSelectPopoverNav:v.default.emojiSelectPopoverNav,emojiSelectPopoverNavItem:v.default.emojiSelectPopoverNavItem,emojiSelectPopoverNavEntry:v.default.emojiSelectPopoverNavEntry,emojiSelectPopoverNavEntryActive:v.default.emojiSelectPopoverNavEntryActive,emojiSelectPopoverScrollbar:v.default.emojiSelectPopoverScrollbar,emojiSelectPopoverScrollbarThumb:v.default.emojiSelectPopoverScrollbarThumb},o={keyBindingFn:void 0,handleKeyCommand:void 0,handleReturn:void 0,onChange:void 0},y={ariaHasPopup:"false",ariaExpanded:!1,ariaOwneeID:void 0,ariaActiveDescendantID:void 0},S=(0,r.Map)(),w=void 0,_=(0,r.Map)(),P={getEditorState:void 0,setEditorState:void 0,getPortalClientRect:function(e){return _.get(e)()},getAllSearches:function(){return S},isEscaped:function(e){return w===e},escapeSearch:function(e){w=e},resetEscapedSearch:function(){w=void 0},register:function(e){S=S.set(e,e)},updatePortalClientRect:function(e,t){_=_.set(e,t)},unregister:function(e){S=S.delete(e),_=_.delete(e)}},E=e.theme,k=void 0===E?t:E,O=e.imagePath,C=void 0===O?"//cdn.jsdelivr.net/emojione/assets/svg/":O,T=e.imageType,M=void 0===T?"svg":T,R=e.allowImageCache,N=e.positionSuggestions,I=void 0===N?b.default:N,L=e.priorityList,D=e.selectGroups,A=e.selectButtonContent,B=e.toneSelectOpenDelay,F=e.useNativeArt,G=e.isCloseWhenSelectEmoji,q=e.limit,z=R?"":"?v=2.2.7";L&&x.default.setPriorityList(L);var U={ariaProps:y,cacheBustParam:z,callbacks:o,imagePath:C,imageType:M,theme:k,store:P,positionSuggestions:I,shortNames:(0,r.List)((0,a.default)(x.default.list)),useNativeArt:F},W={cacheBustParam:z,imagePath:C,imageType:M,theme:k,store:P,selectGroups:D,selectButtonContent:A,toneSelectOpenDelay:B,useNativeArt:F,isCloseWhenSelectEmoji:G,limit:q},K=function(e){return i.default.createElement(c.default,n({},e,U))},V=function(e){return i.default.createElement(p.default,n({},e,W))},J=function(e){return i.default.createElement(l.default,n({},e,{theme:k,imagePath:C,imageType:M,cacheBustParam:z,useNativeArt:F}))},X=function(e){return i.default.createElement(u.default,n({},e,{store:P}))};return{EmojiSuggestions:K,EmojiSelect:V,decorators:[{strategy:d.default,component:J},{strategy:f.default,component:X}],getAccessibilityProps:function(){return{role:"combobox",ariaAutoComplete:"list",ariaHasPopup:y.ariaHasPopup,ariaExpanded:y.ariaExpanded,ariaActiveDescendantID:y.ariaActiveDescendantID,ariaOwneeID:y.ariaOwneeID}},initialize:function(e){var t=e.getEditorState,o=e.setEditorState;P.getEditorState=t,P.setEditorState=o},keyBindingFn:function(e){return o.keyBindingFn&&o.keyBindingFn(e)},handleReturn:function(e){return o.handleReturn&&o.handleReturn(e)},onChange:function(e){var t=(0,j.default)(e);return t.getCurrentContent().equals(e.getCurrentContent())||(t=s.EditorState.forceSelection(t,t.getSelection())),o.onChange?o.onChange(t):t}}}}}]);